# unityeditor-launcher [![Build Status](https://magnum.travis-ci.com/UnityTech/unityeditor-launcher.svg?token=rsGNoUBdJ2xNNMbKPntd)](https://magnum.travis-ci.com/UnityTech/unityeditor-launcher)

Unity's Home Window.  based on [unityeditor-cloud-starter](https://github.com/UnityTech/unityeditor-cloud-starter)

## Quick Start

#### Installation

```sh
$ # Clone the repository
$ git clone git@github.com:UnityTech/unityeditor-launcher.git
$
$ # Make Sure you have the latest bower/npm
$ sudo npm cache clean
$ npm update -g bower
$ sudo npm install -g npm
$
$ # Install global dependencies
$ sudo npm -g install grunt-cli karma bower
$
$ cd unityeditor-launcher
$
$ npm install
$ bower install
$ grunt 
```

The last grunt command will start a copy the required files in the dist folder and can be use for development purpose.  

#### Running Tests

```sh
$ grunt test
$ # This will generate a code coverage report. Instructions on viewing it are displayed in the result text.
```

#### Unity Javascript Package Repository

Unity now uses {UserData}/Packages/package.json to specify the required javascript packages

#### Using npm link to develop Home Window features

```sh
$ cd unityeditor-launcher
$
$ # this will register your current project folder as the location of the unity-editor-home location
$ npm link 
$
$ cd {UserData}/Packages
$
$ # this creates a symbolic link to your dev folder for the unity-editor-home package
$ npm link unity-editor-home
$
$ # you can now develop and when you start Unity your development /dist folder will be used to host the Home Window
$ # using grunt watch which generates a .map and doesn't uglify the code
$ grunt watch
```

<img src="wiki/package-load-flow.png" alt="Load Flow" style="max-width: 400px;"/>

#### Releasing a new package for the Editor

```sh
$ cd unityeditor-launcher
$
$ # update the minor version number in package.json
$ # create package
$ npm pack
$
$ # this generates a unity-editor-home.0.0.X.tgz
$
$ cp unity-editor-home.0.0.x.tgz to External/Packages
$
$ # update External/Packages/package.json version dependecy to reflect the new package version
$
$ # you can now prepare the PR on Ono that uses the new Home Window package
```

#### Updating a package for the Editor

```sh
$ cd unityeditor-launcher
$
$ # update the minor version number in package.json
$ # create package
$ npm pack
$
$ # this generates a unity-editor-home.0.0.X.tgz
$
$ # rename old package in mercurial
$ cd External/Packages
$
$ hg mv unity-editor-home.0.0.Z.tgz unity-editor-home.0.0.X.tgz
$
$ # overwrite old package with new one
$ cp unity-editor-home.0.0.x.tgz to External/Packages
$
$ # update External/Packages/package.json version dependecy to reflect the new package version
$
$ # you can now prepare the PR on Ono that uses the new Home Window package
```

#### Additional Information

see [unityeditor-cloud-starter readme](https://github.com/UnityTech/unityeditor-cloud-starter/blob/trunk/README.md) for more details on the stucture of the project.

Happy hacking!
