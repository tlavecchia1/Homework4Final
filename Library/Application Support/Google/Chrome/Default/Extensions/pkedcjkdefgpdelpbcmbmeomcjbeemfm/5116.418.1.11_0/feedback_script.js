'use strict';var Tf=function(a){this.ZA="number"==typeof a?0<a?1:0>a?-1:null:null==a?null:a?-1:1};Tf.prototype.gQ=function(a,b){for(var c=0,e=0,f=!1,g=Ib(a,b).split(Mb),k=0;k<g.length;k++){var l=g[k];Kb.test(Ib(l,void 0))?(c++,e++):Lb.test(l)?f=!0:Jb.test(Ib(l,void 0))?e++:Nb.test(l)&&(f=!0)}return 0==e?f?1:0:.4<c/e?-1:1};Tf.prototype.DP=function(a,b){return this.XX(this.gQ(a,b))};Tf.prototype.XX=function(a){return-1==(0==a?this.ZA:a)?"rtl":"ltr"};
Tf.prototype.mark=function(){switch(this.ZA){case 1:return"\u200e";case -1:return"\u200f";default:return""}};if("undefined"!=typeof angular){var Uf=angular.module("chrome_18n",[]);chrome.runtime&&chrome.runtime.getManifest&&chrome.runtime.getManifest().default_locale&&Uf.directive("angularMessage",function(){return{restrict:"E",replace:!0,controller:["$scope",function(a){this.Vs=this.sd=null;a.dirForText=r(function(a){this.sd||(this.sd=chrome.i18n.getMessage("@@bidi_dir")||"ltr");this.Vs||(this.Vs=new Tf("rtl"==this.sd));return this.Vs.DP(a||"")},this)}],compile:function(a,b){var c=b.key,e=null,f=document.createElement("amr");
c&&!c.match(/^\d+$/)&&(c=chrome.i18n.getMessage(c),null==c&&f.setAttribute("id","missing"));if(c){var g=chrome.i18n.getMessage(c+"_ph"),e=[];if(null!=g)for(e=g.split("\ue000"),g=0;g<e.length;++g)e[g]=e[g].replace(/^{{(.*)}}$/,'<amrp dir="{{dirForText($1)}}">{{$1}}</amrp>');e=chrome.i18n.getMessage(c,e)}else f.setAttribute("r","nokey");e?f.innerHTML=e:(f.setAttribute("tl","false"),f.innerHTML=a.html());a.replaceWith(f)}}})};var Vf=/^[\w+/]+[=]{0,2}$/;var Wf=function(a,b,c){a.timeOfStartCall=(new Date).getTime();var e=c||h,f=e.document,g;(g=(g=(g=(e||h).document.querySelector("script[nonce]"))&&g.getAttribute("nonce"))&&Vf.test(g)?g:void 0)&&(a.nonce=g);if("help"==a.flow){var k=ba("document.location.href",e);!a.helpCenterContext&&k&&(a.helpCenterContext=k.substring(0,1200));k=!0;if(b&&JSON&&JSON.stringify){var l=JSON.stringify(b);(k=1200>=l.length)&&(a.psdJson=l)}k||(b={invalidPsd:!0})}b=[a,b,c];e.GOOGLE_FEEDBACK_START_ARGUMENTS=b;c=a.serverUri||
"//www.google.com/tools/feedback";if(k=e.GOOGLE_FEEDBACK_START)k.apply(e,b);else{var e=c+"/load.js?",w;for(w in a)b=a[w],null!=b&&!ja(b)&&(e+=encodeURIComponent(w)+"="+encodeURIComponent(b)+"&");a=f.createElement("script");g&&a.setAttribute("nonce",g);a.src=e;f.body.appendChild(a)}};n("userfeedback.api.startFeedback",Wf,void 0);var Xf=function(a,b,c,e,f,g){this.userEmail=a;this.IF=b;this.rQ=c;this.NY=e;this.modelName=f;this.receiverVersion=g};var Yf=chrome.i18n.getMessage("4163185390680253103"),Zf=chrome.i18n.getMessage("492097680647953484"),$f=chrome.i18n.getMessage("2575016469622936324"),ag=chrome.i18n.getMessage("128276876460319075"),bg=chrome.i18n.getMessage("3326722026796849289"),cg=chrome.i18n.getMessage("1018984561488520517"),dg=chrome.i18n.getMessage("8205999658352447129"),eg=chrome.i18n.getMessage("5723583529370342957"),fg=chrome.i18n.getMessage("1550904064710828958"),gg=chrome.i18n.getMessage("5014364904504073524"),hg=chrome.i18n.getMessage("2194670894476780934"),
ig=chrome.i18n.getMessage("6614468912728530636"),jg=chrome.i18n.getMessage("5910595154486533449"),kg=chrome.i18n.getMessage("5363086287710390513"),lg=chrome.i18n.getMessage("244647017322945605"),mg=chrome.i18n.getMessage("5375576275991472719"),og=chrome.i18n.getMessage("4592127349908255218"),pg=chrome.i18n.getMessage("843316808366399491"),qg=chrome.i18n.getMessage("5699813974548050528"),rg=chrome.i18n.getMessage("8515148417333877999"),sg=chrome.i18n.getMessage("1636686747687494376"),tg=chrome.i18n.getMessage("4148300086676792937"),
ug=chrome.i18n.getMessage("3219866268410307919"),vg=chrome.i18n.getMessage("9211708838274008657"),wg=chrome.i18n.getMessage("8706273405040403641"),xg=chrome.i18n.getMessage("4756056595565370923"),yg=chrome.i18n.getMessage("7876724262035435114"),zg=chrome.i18n.getMessage("5485620192329479690"),Ag=chrome.i18n.getMessage("6963873398546068901"),Bg=chrome.i18n.getMessage("3567591856726172993"),Cg=chrome.i18n.getMessage("3239956785410157548");var Dg=function(a,b){this.mB=b;this.l=a;this.l.top=a;this.HB=[];this.hz=!1;this.T6();this.N6();this.O6();this.P6();this.Q6();this.tQ=Ga();this.l.userEmail="";chrome.identity.getProfileUserInfo(function(a){this.l.userEmail=a.email;this.Qm()}.bind(this));this.l.yourAnswerText=Cg;this.l.language=chrome.i18n&&chrome.i18n.getUILanguage?chrome.i18n.getUILanguage():chrome.runtime.getManifest().default_locale;this.l.requestLogsInProgress=!1};
Dg.prototype.ss=function(a,b){a.closeWindow=function(){window.close()};a.closeDialog=function(){b.hide()}};Dg.prototype.ss.$inject=["$scope","$mdDialog"];Dg.prototype.N6=function(){this.HB=[{value:"Bug",desc:Yf},{value:"FeatureRequest",desc:Zf},{value:"MirroringQuality",desc:$f},{value:"Discovery",desc:ag},{value:"Other",desc:bg}];this.l.feedbackTypes=this.HB};var Eg=function(a,b){this.id=a;this.desc=b;this.text=0==a?b:a+" ("+b+")"};d=Dg.prototype;
d.Ry=function(a){for(var b=[],c=1;c<arguments.length;c++)b.push(new Eg(c,arguments[c]));b.push(new Eg(0,arguments[0]));return b};d.T6=function(){this.l.videoSmoothnessRatings=this.Ry(hg,cg,dg,eg,fg,gg);this.l.videoQualityRatings=this.Ry(hg,ig,jg,kg,lg,mg);this.l.audioQualityRatings=this.Ry(hg,og,pg,qg,rg,sg)};
d.O6=function(){this.l.includeFineLogs=!0;this.l.feedbackType="Bug";this.l.sendFeedback=r(this.j3,this);this.l.cancel=r(this.cO,this);this.l.attachLogsClick=r(this.cA,this);this.l.viewLogs=r(this.L8,this)};d.P6=function(){this.l.$watchGroup("videoSmoothness videoQuality audioQuality feedbackDescription comments feedbackType".split(" "),r(this.vO,this));this.l.sufficientFeedback=!1};d.Q6=function(){this.l.$watch("attachLogs",r(this.cA,this));this.l.attachLogs=!0};
d.cO=function(){this.l.feedbackDescription&&!confirm(tg)||window.close()};d.vO=function(){var a=this.l.feedbackType;this.l.sufficientFeedback="MirroringQuality"==a?this.l.videoSmoothness||this.l.videoQuality||this.l.audioQuality||this.l.comments:"Discovery"==a?this.l.visibleInSetup||this.l.comments:!!this.l.feedbackDescription};
d.j3=function(){if(this.l.sufficientFeedback){var a=this.l.feedbackType,b="";"MirroringQuality"==a?(this.l.videoSmoothness&&(b+="\nVideo Smoothness: "+this.l.videoSmoothness),this.l.videoQuality&&(b+="\nVideo Quality: "+this.l.videoQuality),this.l.audioQuality&&(b+="\nAudio: "+this.l.audioQuality),this.l.projectedContentUrl&&(b+="\nProjected Content/URL: "+this.l.projectedContentUrl),this.l.comments&&(b+="\nComments: "+this.l.comments)):"Discovery"==a?(this.l.visibleInSetup&&(b+="\nChromecast Visible in Setup: "+
this.l.visibleInSetup),this.l.hasNetworkSoftware&&(b+="\nUsing VPN/proxy/firewall/NAS Software: "+this.l.hasNetworkSoftware),this.l.networkDescription&&(b+="\nNetwork Description: "+this.l.networkDescription),this.l.comments&&(b+="\nComments: "+this.l.comments)):b=this.l.feedbackDescription;this.i3("Type: "+a+"\n\n"+b)}};
d.i3=function(a){this.l.sendDialogText=ug;this.l.okButton=Bg;this.l.feedbackSent=!1;this.mB.show({locals:{zfa:this.l.feedbackSent,Yka:this.l.sendDialogText,YY:this.l.okButton},scope:this.l,preserveScope:!0,bindToController:!0,template:'<md-dialog id="feedback-confirmation"><md-dialog-content><div id="send-feedback-text">{{sendDialogText}}</div><md-dialog-actions><md-button class="md-raised md-primary"ng-disabled="!feedbackSent" ng-click="closeWindow()">{{okButton}}</md-button></md-dialog-actions></md-dialog-content></md-dialog>',
controller:this.ss});this.kI(a,t())};d.kI=function(a,b){var c=t();!this.l.requestLogsInProgress||5E3<c-b?this.QP(a):setTimeout(r(this.kI,this),1E3,a,b)};
d.QP=function(a){var b=0,c=r(function(a,b){b?a.resolve(!0):(this.l.sendDialogText=xg,this.Qm(),a.reject(Error("Failed to send")))},this),e=chrome.declarativeWebRequest?"MrTeamfood":"MRStable",f=r(function(){b++;var f=J(),k=new Xf(this.l.userEmail||"",this.l.logs||"",this.l.externalLogs||"",this.l.mirrorLogUrl||"",this.l.modelName||"",this.l.receiverVersion||""),l=oa(c,f),w=chrome.runtime.getManifest();Wf({productId:85561,bucket:e,flow:"submit",serverUri:"https://www.google.com/tools/feedback",allowNonLoggedInFeedback:!0,
locale:w.default_locale,enableAnonymousFeedback:!k.userEmail,report:{description:a},callback:l},{version:w.version,description:w.description,user_email:k.userEmail||"NA",logs:k.IF||"NA",external_logs:k.rQ||"NA",device_model:k.modelName||"NA",receiver_version:k.receiverVersion||"NA",dash_report_url:k.NY||"NA"});return f.promise},this);(new xf(f,1E4,4)).by(2).start().then(function(){this.l.sendDialogText=wg;this.l.feedbackSent=!0;this.Qm()},function(){this.l.sendDialogText=vg;this.l.feedbackSent=!0;
this.Qm()},this)};
d.cA=function(){this.l.logs="";this.l.externalLogs=null;this.l.mirrorLogUrl="";this.l.modelName="";this.l.receiverVersion="";this.l.attachLogs&&(this.l.requestLogsInProgress=!0,chrome.runtime.sendMessage(new Sf(this.tQ,"retrieve_log_data"),r(function(a){this.l.requestLogsInProgress=!1;this.l.logs=a.logs||"no extension";this.l.mirrorLogUrl=a.castStreamingLogs||"";if((a=a.device)&&a.ae&&(this.l.modelName=a.ae,this.l.receiverVersion=a.version||"",!this.hz)){var b=Ga();this.hz=!0;this.l.externalLogs=Pf(a.Yp,
b,r(this.o_,this))}},this)))};
d.L8=function(){this.l.logsHeader=yg;this.l.sendLogs=zg;this.l.fineLogsWarning=Ag;this.l.okButton=Bg;this.mB.show({locals:{Dca:this.l.attachLogs,IF:this.l.logs,Sga:this.l.includeFineLogs,Lha:this.l.logsHeader,Zka:this.l.sendLogs,Bfa:this.l.fineLogsWarning,YY:this.l.okButton},scope:this.l,preserveScope:!0,bindToController:!0,clickOutsideToClose:!0,template:'<md-dialog><md-dialog-content id="logs-dialog"><div class="subheading">{{logsHeader}}</div><div ng-show="includeFineLogs && attachLogs"id="feedback-fine-log-warning" class="informative">{{fineLogsWarning}}</div><pre>{{logs}}</pre><div class="send-logs"><md-checkbox type="checkbox" ng-model="attachLogs"ng-change="attachLogsClick()"><span>{{sendLogs}}</span></md-checkbox></div><md-dialog-actions><md-button class="md-raised md-primary"ng-click="closeDialog()">{{okButton}}</md-button></md-dialog-actions></md-dialog-content></md-dialog>',controller:this.ss})};
d.o_=function(a,b){this.hz=!1;this.l.externalLogs="error"==a?null:b;this.l.attachLogs||(this.l.externalLogs=null);this.Qm()};d.Qm=function(){this.l.$$phase||this.l.$apply()};angular.module("feedbackApp","chrome_18n material.components.button material.components.checkbox material.components.dialog material.components.input material.components.radioButton".split(" ")).controller("FeedbackCtrl",["$scope","$mdDialog",Dg]);n("ng.safehtml.googSceHelper.isGoogHtmlType",function(a){return a&&a.$l?!0:!1},void 0);n("ng.safehtml.googSceHelper.isCOMPILED",function(){return!0},void 0);n("ng.safehtml.googSceHelper.unwrapAny",function(a){if(a instanceof Zb)return $b(a);if(a instanceof bc)return cc(a);if(a instanceof Wb)return Xb(a);if(a instanceof Tb)return Ub(a);if(a instanceof ec)return fc(a);throw Error();},void 0);
n("ng.safehtml.googSceHelper.unwrapGivenContext",function(a,b){if("html"==a)return cc(b);if("resourceUrl"==a||"templateUrl"==a)return $b(b);if("url"==a)return b instanceof Zb?$b(b):Xb(b);if("css"==a)return Ub(b);if("js"==a)return fc(b);throw Error();},void 0);
