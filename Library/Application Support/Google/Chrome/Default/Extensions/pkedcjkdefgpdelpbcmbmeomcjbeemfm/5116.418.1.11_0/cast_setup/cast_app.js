'use strict';var k,aa=aa||{},l=this,m=function(a){return void 0!==a},ba=function(){},ca=function(a){a.X=function(){return a.Da?a.Da:a.Da=new a}},da=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ea=function(a){return"array"==da(a)},fa=function(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length},p=function(a){return"string"==typeof a},ga=function(a){return"function"==da(a)},ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0,ja=function(a,
b,c){return a.call.apply(a.bind,arguments)},ka=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return r.apply(null,arguments)},la=function(a,b){var c=Array.prototype.slice.call(arguments,
1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ma=Date.now||function(){return+new Date},t=function(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&m(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}},u=function(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.nb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-
2]=arguments[h];return b.prototype[c].apply(a,g)}};var na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},pa=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ma()).toString(36)},ra=function(a,b){for(var c=0,d=na(String(a)).split("."),e=na(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",n=e[g]||
"",q=/(\d*)(\D*)/g,N=/(\d*)(\D*)/g;do{var Ja=q.exec(h)||["","",""],ub=N.exec(n)||["","",""];if(0==Ja[0].length&&0==ub[0].length)break;c=qa(0==Ja[1].length?0:parseInt(Ja[1],10),0==ub[1].length?0:parseInt(ub[1],10))||qa(0==Ja[2].length,0==ub[2].length)||qa(Ja[2],ub[2])}while(0==c)}return c},qa=function(a,b){return a<b?-1:a>b?1:0};var v=function(a){this.type=a};t("castApp.protocol.Message",v);var sa=function(a){this.type=a;this.requestId=pa()};u(sa,v);t("castApp.protocol.Request",sa);var w=function(a,b){this.type=a;this.responseTo=b.requestId};u(w,v);t("castApp.protocol.Response",w);var ta=function(a,b){w.call(this,"Error",a);this.errorName=b||"err-unknown"};u(ta,w);t("castApp.protocol.Error",ta);var ua=function(){};t("castApp.protocol.Handshake",ua);var va=function(){sa.call(this,"Handshake.Request");this.coreVersion=3};
u(va,sa);ua.Request=va;var wa=function(a){w.call(this,"Handshake.Response",a);this.version=3;this.latestVersion=void 0};u(wa,w);ua.Response=wa;var xa=function(a,b){w.call(this,"Handshake.UiVersionNotSupported",a);this.latestVersion=b};u(xa,w);ua.UiVersionNotSupported=xa;var ya=function(a){this.type="SetSimpleState";this.state=a};u(ya,v);t("castApp.protocol.SetSimpleState",ya);var za=function(){};t("castApp.protocol.ModalDialog",za);
var Aa=function(a){sa.call(this,"ModalDialog.Request");this.dialogId=a};u(Aa,sa);za.Request=Aa;var Ba=function(a,b){w.call(this,"ModalDialog.Response",a);this.button=b};u(Ba,w);za.Response=Ba;var Ca=function(){};t("castApp.protocol.DeviceDiscovery",Ca);var Da=function(a){this.type="DeviceDiscovery.ShowScanner";this.showTips=a};u(Da,v);Ca.ShowScanner=Da;var Ea=function(){};t("castApp.protocol.SetupStart",Ea);
var Fa=function(a,b,c){this.type="SetupStart.ShowDevice";this.state=a;this.deviceType=b;this.deviceName=c;this.analyticsOptIn=this.otherDevicesExist=!1};u(Fa,v);Ea.ShowDevice=Fa;var Ga=function(a){this.type="SetupStart.TosAccepted";this.analyticsOptIn=a};u(Ga,v);Ea.TosAccepted=Ga;var Ha=function(){};t("castApp.protocol.WiFiSwitching",Ha);var Ia=function(a,b,c){this.type="WiFiSwitching.ConnectHotSpot";this.state=a;this.deviceName=b;this.ssid=c};u(Ia,v);Ha.ConnectHotSpot=Ia;
var Ka=function(a,b){this.type="WiFiSwitching.ReconnectWiFi";this.state=a;this.ssid=b};u(Ka,v);Ha.ReconnectWiFi=Ka;var La=function(){};t("castApp.protocol.CodeConfirmation",La);var Ma=function(a){sa.call(this,"CodeConfirmation.Request");this.code=a};u(Ma,sa);La.Request=Ma;var Na=function(a,b){w.call(this,"CodeConfirmation.Response",a);this.confirmed=b};u(Na,w);La.Response=Na;var Oa=function(){};t("castApp.protocol.AudioConfirmation",Oa);
var Pa=function(a){this.type="AudioConfirmation.PromptUser";this.state=a};u(Pa,v);Oa.PromptUser=Pa;var Qa=function(a){this.type="AudioConfirmation.UserAction";this.action=a};u(Qa,v);Oa.UserAction=Qa;var Ra=function(){};t("castApp.protocol.DeviceConfig",Ra);var Sa=function(a,b){sa.call(this,"DeviceConfig.Request");this.name=a;this.country=b};u(Sa,sa);Ra.Request=Sa;var Ta=function(a,b,c){w.call(this,"DeviceConfig.Response",a);this.name=b;this.country=c};u(Ta,w);Ra.Response=Ta;var Ua=function(){};
t("castApp.protocol.WiFiConfig",Ua);var Va=function(a,b,c){this.ssid=a;this.bssid=b;this.security=c};Ua.Network=Va;var Wa=function(a,b,c,d){this.type="WiFiConfig.Show";this.state=a;this.networks=b;this.selectedNetwork=c;this.encryptedPassword=d};u(Wa,v);Ua.Show=Wa;var Xa=function(a){this.type="WiFiConfig.UpdateNetworks";this.networks=a};u(Xa,v);Ua.UpdateNetworks=Xa;var Ya=function(a,b){this.type="WiFiConfig.Connect";this.network=a;this.password=b};u(Ya,v);Ua.Connect=Ya;
var Za=function(a,b){this.type="WiFiConfig.Retry";this.network=a;this.encryptedPassword=b};u(Za,v);Ua.Retry=Za;var $a=function(){};t("castApp.protocol.Devices",$a);var ab=function(a,b,c){this.id=a;this.type=b;this.displayName=c};$a.DeviceProperties=ab;var bb=function(a,b){this.type="Devices.Show";this.devices=a;this.deviceName=b};u(bb,v);$a.Show=bb;var cb=function(a,b){this.type="Devices.UserAction";this.device=a;this.action=b};u(cb,v);$a.UserAction=cb;var db=function(){};
t("castApp.protocol.DeviceSettings",db);var eb=function(a,b){this.localeId=a;this.displayString=b};db.Locale=eb;var fb=function(a,b,c){this.timeZoneId=a;this.displayString=b;this.offset=c};db.TimeZone=fb;
var gb=function(a,b){this.type="DeviceSettings.Show";this.state=a;this.deviceType=b.deviceType;this.name=b.name;this.ssid=b.ssid;this.timeZoneId=b.timeZoneId;this.supportedTimeZones=b.supportedTimeZones;this.timeFormat=b.timeFormat;this.localeId=b.localeId;this.supportedLocales=b.supportedLocales;this.statsOptIn=b.statsOptIn;this.firmwareVersion=b.firmwareVersion;this.countryCode=b.countryCode;this.macAddress=b.macAddress;this.ipAddress=b.ipAddress};u(gb,v);db.Show=gb;
var hb=function(a){this.type="DeviceSettings.Apply";this.name=a.name;this.timeZoneId=a.timeZoneId;this.timeFormat=a.timeFormat;this.localeId=a.localeId;this.statsOptIn=a.statsOptIn};u(hb,v);db.Apply=hb;var ib=function(){};t("castApp.protocol.DetectCountry",ib);var jb=function(){sa.call(this,"DetectCountry.Request")};u(jb,sa);ib.Request=jb;var kb=function(a,b){w.call(this,"DetectCountry.Response",a);this.countryCode=b};u(kb,w);ib.Response=kb;var lb=function(){};t("castApp.protocol.Offers",lb);
var mb=function(){this.type="Offers.Scan";this.scanId=pa()};u(mb,v);lb.Scan=mb;var nb=function(a,b,c,d){this.token=a;this.displayName=b;this.deviceType=c;this.ssdpUdn=d};lb.Device=nb;var ob=function(a,b,c){this.type="Offers.ScanResults";this.scanId=a;this.devices=b;this.scanComplete=c};u(ob,v);lb.ScanResults=ob;var pb=function(a){this.type="Offers.Redeem";this.url=a};u(pb,v);lb.Redeem=pb;var x=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(x,Error);x.prototype.name="CustomError";var qb=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},rb=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(p(a))return p(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=
c;c--)if(c in a&&a[c]===b)return c;return-1},sb=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},tb=function(a,b){var c;a:{c=a.length;for(var d=p(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:p(a)?a.charAt(c):a[c]},vb=function(a){if(!ea(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},xb=function(a,b){var c=qb(a,b),
d;(d=0<=c)&&wb(a,c);return d},wb=function(a,b){Array.prototype.splice.call(a,b,1)},yb=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},zb=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Ab=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Bb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(fa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}},
Db=function(a,b,c,d){Array.prototype.splice.apply(a,Cb(arguments,1))},Cb=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Gb=function(a,b){for(var c=Eb||Fb,d=0,e=a.length,f;d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d},Hb=function(a,b){a.sort(b||Fb)},Fb=function(a,b){return a>b?1:a<b?-1:0},Ib=function(a,b){var c=Gb(a,b);0>c&&Db(a,-(c+1),0,b)},Jb=function(a,b){var c=Gb(a,b);0<=c&&wb(a,c)};var Kb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Lb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Mb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Nb=function(a){return null!==a&&"withCredentials"in a},y=function(a,b,c){b in a||(a[b]=c)},Ob=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Qb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
for(c in d)a[c]=d[c];for(var f=0;f<Pb.length;f++)c=Pb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Rb;a:{var Sb=l.navigator;if(Sb){var Tb=Sb.userAgent;if(Tb){Rb=Tb;break a}}Rb=""}var z=function(a){return-1!=Rb.indexOf(a)};var Ub=function(){return(z("Chrome")||z("CriOS"))&&!z("Edge")};var Vb="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Wb=function(){};Wb.prototype.next=function(){throw Vb;};Wb.prototype.U=function(){return this};
var Xb=function(a){if(a instanceof Wb)return a;if("function"==typeof a.U)return a.U(!1);if(fa(a)){var b=0,c=new Wb;c.next=function(){for(;;){if(b>=a.length)throw Vb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},Yb=function(a,b){if(fa(a))try{sb(a,b,void 0)}catch(c){if(c!==Vb)throw c;}else{a=Xb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Vb)throw c;}}},Zb=function(a,b){var c=null;Yb(a,function(a){c=b.call(void 0,c,a)});return c},$b=function(a,b){a=Xb(a);
try{for(;;)if(!b.call(void 0,a.next(),void 0,a))return!1}catch(c){if(c!==Vb)throw c;}return!0};var A=function(a,b){this.g={};this.f=[];this.i=this.h=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof A?(c=a.D(),d=a.A()):(c=Mb(a),d=Lb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};A.prototype.w=function(){return this.h};A.prototype.A=function(){ac(this);for(var a=[],b=0;b<this.f.length;b++)a.push(this.g[this.f[b]]);return a};A.prototype.D=function(){ac(this);return this.f.concat()};
var cc=function(a,b){return bc(a.g,b)};A.prototype.H=function(){return 0==this.h};A.prototype.clear=function(){this.g={};this.i=this.h=this.f.length=0};A.prototype.remove=function(a){return bc(this.g,a)?(delete this.g[a],this.h--,this.i++,this.f.length>2*this.h&&ac(this),!0):!1};
var ac=function(a){if(a.h!=a.f.length){for(var b=0,c=0;b<a.f.length;){var d=a.f[b];bc(a.g,d)&&(a.f[c++]=d);b++}a.f.length=c}if(a.h!=a.f.length){for(var e={},c=b=0;b<a.f.length;)d=a.f[b],bc(e,d)||(a.f[c++]=d,e[d]=1),b++;a.f.length=c}};k=A.prototype;k.get=function(a,b){return bc(this.g,a)?this.g[a]:b};k.set=function(a,b){bc(this.g,a)||(this.h++,this.f.push(a),this.i++);this.g[a]=b};k.forEach=function(a,b){for(var c=this.D(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new A(this)};
k.U=function(a){ac(this);var b=0,c=this.i,d=this,e=new Wb;e.next=function(){if(c!=d.i)throw Error("The map has changed since the iterator was created");if(b>=d.f.length)throw Vb;var e=d.f[b++];return a?e:d.g[e]};return e};var bc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var dc=function(a){if(a.A&&"function"==typeof a.A)return a.A();if(p(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Lb(a)},ec=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||p(a))sb(a,b,void 0);else{var c;if(a.D&&"function"==typeof a.D)c=a.D();else if(a.A&&"function"==typeof a.A)c=void 0;else if(fa(a)||p(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Mb(a);for(var d=dc(a),e=d.length,f=0;f<e;f++)b.call(void 0,
d[f],c&&c[f],a)}};var B=function(a){this.f=new A;if(a){a=dc(a);for(var b=a.length,c=0;c<b;c++)fc(this,a[c])}},gc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[ha]||(a[ha]=++ia)):b.substr(0,1)+a};B.prototype.w=function(){return this.f.w()};var fc=function(a,b){a.f.set(gc(b),b)};k=B.prototype;k.removeAll=function(a){a=dc(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};k.remove=function(a){return this.f.remove(gc(a))};k.clear=function(){this.f.clear()};k.H=function(){return this.f.H()};
k.contains=function(a){return cc(this.f,gc(a))};var hc=function(a,b){var c=a.clone();c.removeAll(b);return c};B.prototype.A=function(){return this.f.A()};B.prototype.clone=function(){return new B(this)};B.prototype.U=function(){return this.f.U(!1)};var ic=function(){return z("iPhone")&&!z("iPod")&&!z("iPad")};var jc=z("Opera"),C=z("Trident")||z("MSIE"),kc=z("Edge"),lc=z("Gecko")&&!(-1!=Rb.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),mc=-1!=Rb.toLowerCase().indexOf("webkit")&&!z("Edge"),nc=function(){var a=l.document;return a?a.documentMode:void 0},oc;
a:{var pc="",qc=function(){var a=Rb;if(lc)return/rv\:([^\);]+)(\)|;)/.exec(a);if(kc)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(mc)return/WebKit\/(\S+)/.exec(a);if(jc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();qc&&(pc=qc?qc[1]:"");if(C){var rc=nc();if(null!=rc&&rc>parseFloat(pc)){oc=String(rc);break a}}oc=pc}var sc=oc,tc={},uc=function(a){return tc[a]||(tc[a]=0<=ra(sc,a))},vc=l.document,wc=vc&&C?nc()||("CSS1Compat"==vc.compatMode?parseInt(sc,10):5):void 0;var xc=function(a,b){this.g=[];this.f=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.g[d]=e,c=!1)}},yc={},zc=function(a){if(-128<=a&&128>a){var b=yc[a];if(b)return b}b=new xc([a|0],0>a?-1:0);-128<=a&&128>a&&(yc[a]=b);return b},Bc=function(a){if(isNaN(a)||!isFinite(a))return Ac;if(0>a)return D(Bc(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new xc(b,0)},Cc=function(a,b){if(0==a.length)throw Error("number format error: empty string");var c=b||10;if(2>c||36<c)throw Error("radix out of range: "+
c);if("-"==a.charAt(0))return D(Cc(a.substring(1),c));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=Bc(Math.pow(c,8)),e=Ac,f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8>g?(g=Bc(Math.pow(c,g)),e=Dc(Ec(e,g),Bc(h))):(e=Ec(e,d),e=Dc(e,Bc(h)))}return e},Ac=zc(0),Fc=zc(1),Gc=zc(16777216),Hc=function(a){if(-1==a.f)return-Hc(D(a));for(var b=0,c=1,d=0;d<a.g.length;d++)b+=Ic(a,d)*c,c*=4294967296;return b};
xc.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Jc(this))return"0";if(-1==this.f)return"-"+D(this).toString(a);for(var b=Bc(Math.pow(a,6)),c=this,d="";;){var e=Kc(c,b),c=Lc(c,Ec(e,b)),f=((0<c.g.length?c.g[0]:c.f)>>>0).toString(a),c=e;if(Jc(c))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var E=function(a,b){return 0>b?0:b<a.g.length?a.g[b]:a.f},Ic=function(a,b){var c=E(a,b);return 0<=c?c:4294967296+c},Jc=function(a){if(0!=a.f)return!1;for(var b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0},Mc=function(a,b){var c=Lc(a,b);return-1==c.f?-1:Jc(c)?0:1},D=function(a){for(var b=a.g.length,c=[],d=0;d<b;d++)c[d]=~a.g[d];a=new xc(c,~a.f);return Dc(a,Fc)},Dc=function(a,b){for(var c=Math.max(a.g.length,b.g.length),d=[],e=0,f=0;f<=c;f++){var g=e+(E(a,f)&65535)+(E(b,f)&65535),h=(g>>>16)+(E(a,
f)>>>16)+(E(b,f)>>>16),e=h>>>16,g=g&65535,h=h&65535;d[f]=h<<16|g}return new xc(d,d[d.length-1]&-2147483648?-1:0)},Lc=function(a,b){return Dc(a,D(b))},Ec=function(a,b){if(Jc(a)||Jc(b))return Ac;if(-1==a.f)return-1==b.f?Ec(D(a),D(b)):D(Ec(D(a),b));if(-1==b.f)return D(Ec(a,D(b)));if(0>Mc(a,Gc)&&0>Mc(b,Gc))return Bc(Hc(a)*Hc(b));for(var c=a.g.length+b.g.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.g.length;e++)for(var f=0;f<b.g.length;f++){var g=E(a,e)>>>16,h=E(a,e)&65535,n=E(b,f)>>>16,q=E(b,f)&65535;
d[2*e+2*f]+=h*q;Nc(d,2*e+2*f);d[2*e+2*f+1]+=g*q;Nc(d,2*e+2*f+1);d[2*e+2*f+1]+=h*n;Nc(d,2*e+2*f+1);d[2*e+2*f+2]+=g*n;Nc(d,2*e+2*f+2)}for(e=0;e<c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new xc(d,0)},Nc=function(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535},Kc=function(a,b){if(Jc(b))throw Error("division by zero");if(Jc(a))return Ac;if(-1==a.f)return-1==b.f?Kc(D(a),D(b)):D(Kc(D(a),b));if(-1==b.f)return D(Kc(a,D(b)));if(30<a.g.length){if(-1==a.f||-1==b.f)throw Error("slowDivide_ only works with positive integers.");
for(var c=Fc,d=b;0>=Mc(d,a);)c=Oc(c,1),d=Oc(d,1);for(var e=Pc(c,1),f=Pc(d,1),g,d=Pc(d,2),c=Pc(c,2);!Jc(d);)g=Dc(f,d),0>=Mc(g,a)&&(e=Dc(e,c),f=g),d=Pc(d,1),c=Pc(c,1);return e}c=Ac;for(d=a;0<=Mc(d,b);){e=Math.max(1,Math.floor(Hc(d)/Hc(b)));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=Bc(e);for(var h=Ec(g,b);-1==h.f||0<Mc(h,d);)e-=f,g=Bc(e),h=Ec(g,b);Jc(g)&&(g=Fc);c=Dc(c,g);d=Lc(d,h)}return c},Qc=function(a,b){for(var c=Math.max(a.g.length,b.g.length),d=[],e=0;e<c;e++)d[e]=E(a,e)|E(b,
e);return new xc(d,a.f|b.f)},Oc=function(a,b){for(var c=b>>5,d=b%32,e=a.g.length+c+(0<d?1:0),f=[],g=0;g<e;g++)f[g]=0<d?E(a,g-c)<<d|E(a,g-c-1)>>>32-d:E(a,g-c);return new xc(f,a.f)},Pc=function(a,b){for(var c=b>>5,d=b%32,e=a.g.length-c,f=[],g=0;g<e;g++)f[g]=0<d?E(a,g+c)>>>d|E(a,g+c+1)<<32-d:E(a,g+c);return new xc(f,a.f)};var Rc=function(a){this.g=a},Uc=function(a){try{return-1!=a.indexOf(":")?new Sc(a):new Tc(a)}catch(b){return null}},Tc=function(a){var b=Ac;if(a instanceof xc){if(0!=a.f||0>Mc(a,Ac)||0<Mc(a,Vc))throw Error("The address does not look like an IPv4.");b=Ob(a)}else{if(!Wc.test(a))throw Error(a+" does not look like an IPv4 address.");var c=a.split(".");if(4!=c.length)throw Error(a+" does not look like an IPv4 address.");for(var d=0;d<c.length;d++){var e;e=c[d];var f=Number(e);e=0==f&&/^[\s\xa0]*$/.test(e)?
NaN:f;if(isNaN(e)||0>e||255<e||1!=c[d].length&&0==c[d].lastIndexOf("0",0))throw Error("In "+a+", octet "+d+" is not valid");e=Bc(e);b=Qc(Oc(b,8),e)}}this.g=b};u(Tc,Rc);var Wc=/^[0-9.]*$/,Vc=Lc(Oc(Fc,32),Fc);Tc.prototype.toString=function(){if(this.f)return this.f;for(var a=Ic(this.g,0),b=[],c=3;0<=c;c--)b[c]=String(a&255),a>>>=8;return this.f=b.join(".")};
var Sc=function(a){var b=Ac;if(a instanceof xc){if(0!=a.f||0>Mc(a,Ac)||0<Mc(a,Xc))throw Error("The address does not look like a valid IPv6.");b=Ob(a)}else{if(!Yc.test(a))throw Error(a+" is not a valid IPv6 address.");var c=a.split(":");if(-1!=c[c.length-1].indexOf(".")){a=Ic(Ob((new Tc(c[c.length-1])).g),0);var d=[];d.push((a>>>16&65535).toString(16));d.push((a&65535).toString(16));wb(c,c.length-1);Bb(c,d);a=c.join(":")}d=a.split("::");if(2<d.length||1==d.length&&8!=c.length)throw Error(a+" is not a valid IPv6 address.");
if(1<d.length){c=d[0].split(":");d=d[1].split(":");1==c.length&&""==c[0]&&(c=[]);1==d.length&&""==d[0]&&(d=[]);var e=8-(c.length+d.length);if(1>e)c=[];else{for(var f=[],g=0;g<e;g++)f[g]="0";c=zb(c,f,d)}}if(8!=c.length)throw Error(a+" is not a valid IPv6 address");for(d=0;d<c.length;d++){e=Cc(c[d],16);if(0>Mc(e,Ac)||0<Mc(e,Zc))throw Error(c[d]+" in "+a+" is not a valid hextet.");b=Qc(Oc(b,16),e)}}this.g=b};u(Sc,Rc);var Yc=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,Zc=zc(65535),Xc=Lc(Oc(Fc,128),Fc);
Sc.prototype.toString=function(){if(this.f)return this.f;for(var a=[],b=3;0<=b;b--){var c=Ic(this.g,b),d=c&65535;a.push((c>>>16).toString(16));a.push(d.toString(16))}for(var c=b=-1,e=d=0,f=0;f<a.length;f++)"0"==a[f]?(e++,-1==c&&(c=f),e>d&&(d=e,b=c)):(c=-1,e=0);0<d&&(b+d==a.length&&a.push(""),a.splice(b,d,""),0==b&&(a=[""].concat(a)));return this.f=a.join(":")};var $c=function(a,b,c){this.j=c;this.h=a;this.i=b;this.g=0;this.f=null};$c.prototype.get=function(){var a;0<this.g?(this.g--,a=this.f,this.f=a.next,a.next=null):a=this.h();return a};var ad=function(a,b){a.i(b);a.g<a.j&&(a.g++,b.next=a.f,a.f=b)};var bd=function(a){l.setTimeout(function(){throw a;},0)},cd,dd=function(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!z("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=r(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!z("Trident")&&!z("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(m(c.next)){c=c.next;var a=c.ya;c.ya=null;a()}};return function(a){d.next={ya:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};var ed=function(){this.g=this.f=null},gd=new $c(function(){return new fd},function(a){a.reset()},100);ed.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.g=null),a.next=null);return a};var fd=function(){this.next=this.g=this.f=null};fd.prototype.set=function(a,b){this.f=a;this.g=b;this.next=null};fd.prototype.reset=function(){this.next=this.g=this.f=null};var ld=function(a,b){hd||id();jd||(hd(),jd=!0);var c=kd,d=gd.get();d.set(a,b);c.g?c.g.next=d:c.f=d;c.g=d},hd,id=function(){if(l.Promise&&l.Promise.resolve){var a=l.Promise.resolve(void 0);hd=function(){a.then(md)}}else hd=function(){var a=md;!ga(l.setImmediate)||l.Window&&l.Window.prototype&&!z("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(cd||(cd=dd()),cd(a)):l.setImmediate(a)}},jd=!1,kd=new ed,md=function(){for(var a=null;a=kd.remove();){try{a.f.call(a.g)}catch(b){bd(b)}ad(gd,a)}jd=
!1};var F=function(a,b){this.f=0;this.m=void 0;this.i=this.g=this.h=null;this.j=this.l=!1;if(a!=ba)try{var c=this;a.call(b,function(a){nd(c,2,a)},function(a){nd(c,3,a)})}catch(d){nd(this,3,d)}},od=function(){this.next=this.i=this.g=this.j=this.f=null;this.h=!1};od.prototype.reset=function(){this.i=this.g=this.j=this.f=null;this.h=!1};
var pd=new $c(function(){return new od},function(a){a.reset()},100),qd=function(a,b,c){var d=pd.get();d.j=a;d.g=b;d.i=c;return d},G=function(a){if(a instanceof F)return a;var b=new F(ba);nd(b,2,a);return b},H=function(a){return new F(function(b,c){c(a)})},sd=function(a,b,c){rd(a,b,c,null)||ld(la(b,a))},td=function(a){return new F(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,n;h<a.length;h++)n=a[h],sd(n,la(f,h),g);else b(e)})},I=function(){var a,
b,c=new F(function(c,e){a=c;b=e});return new ud(c,a,b)};F.prototype.then=function(a,b,c){return vd(this,ga(a)?a:null,ga(b)?b:null,c)};F.prototype.then=F.prototype.then;F.prototype.$goog_Thenable=!0;var J=function(a,b){var c=qd(b,b,void 0);c.h=!0;wd(a,c);return a},K=function(a,b,c){return vd(a,null,b,c)};F.prototype.cancel=function(a){0==this.f&&ld(function(){var b=new L(a);xd(this,b)},this)};
var xd=function(a,b){if(0==a.f)if(a.h){var c=a.h;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.h||(d++,g.f==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?xd(c,b):(f?(d=f,d.next==c.i&&(c.i=d),d.next=d.next.next):yd(c),zd(c,e,3,b)))}a.h=null}else nd(a,3,b)},wd=function(a,b){a.g||2!=a.f&&3!=a.f||Ad(a);a.i?a.i.next=b:a.g=b;a.i=b},vd=function(a,b,c,d){var e=qd(null,null,null);e.f=new F(function(a,g){e.j=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;e.g=c?function(b){try{var e=c.call(d,
b);!m(e)&&b instanceof L?g(b):a(e)}catch(q){g(q)}}:g});e.f.h=a;wd(a,e);return e.f};F.prototype.s=function(a){this.f=0;nd(this,2,a)};F.prototype.u=function(a){this.f=0;nd(this,3,a)};
var nd=function(a,b,c){0==a.f&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.f=1,rd(c,a.s,a.u,a)||(a.m=c,a.f=b,a.h=null,Ad(a),3!=b||c instanceof L||Bd(a,c)))},rd=function(a,b,c,d){if(a instanceof F)return wd(a,qd(b||ba,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(ga(f))return Cd(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},Cd=function(a,b,
c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},h=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,h)}catch(n){h(n)}},Ad=function(a){a.l||(a.l=!0,ld(a.o,a))},yd=function(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.i=null);return b};F.prototype.o=function(){for(var a=null;a=yd(this);)zd(this,a,this.f,this.m);this.l=!1};
var zd=function(a,b,c,d){if(3==c&&b.g&&!b.h)for(;a&&a.j;a=a.h)a.j=!1;if(b.f)b.f.h=null,Dd(b,c,d);else try{b.h?b.j.call(b.i):Dd(b,c,d)}catch(e){Ed.call(null,e)}ad(pd,b)},Dd=function(a,b,c){2==b?a.j.call(a.i,c):a.g&&a.g.call(a.i,c)},Bd=function(a,b){a.j=!0;ld(function(){a.j&&Ed.call(null,b)})},Ed=bd,L=function(a){x.call(this,a)};u(L,x);L.prototype.name="cancel";var ud=function(a,b,c){this.f=a;this.g=b;this.h=c};var Fd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Gd=function(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};var Hd=function(a,b){this.f=this.o=this.i="";this.l=null;this.j=this.h="";this.g=!1;var c;a instanceof Hd?(this.g=m(b)?b:a.g,Id(this,a.i),this.o=a.o,this.f=a.f,Jd(this,a.l),this.h=a.h,Kd(this,a.m.clone()),this.j=a.j):a&&(c=String(a).match(Fd))?(this.g=!!b,Id(this,c[1]||"",!0),this.o=Ld(c[2]||""),this.f=Ld(c[3]||"",!0),Jd(this,c[4]),this.h=Ld(c[5]||"",!0),Kd(this,c[6]||"",!0),this.j=Ld(c[7]||"")):(this.g=!!b,this.m=new Md(null,0,this.g))};
Hd.prototype.toString=function(){var a=[],b=this.i;b&&a.push(Nd(b,Od,!0),":");var c=this.f;if(c||"file"==b)a.push("//"),(b=this.o)&&a.push(Nd(b,Od,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.l,null!=c&&a.push(":",String(c));if(c=this.h)this.f&&"/"!=c.charAt(0)&&a.push("/"),a.push(Nd(c,"/"==c.charAt(0)?Pd:Qd,!0));(c=this.m.toString())&&a.push("?",c);(c=this.j)&&a.push("#",Nd(c,Rd));return a.join("")};Hd.prototype.clone=function(){return new Hd(this)};
var Id=function(a,b,c){a.i=c?Ld(b,!0):b;a.i&&(a.i=a.i.replace(/:$/,""))},Jd=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null},Kd=function(a,b,c){b instanceof Md?(a.m=b,Sd(a.m,a.g)):(c||(b=Nd(b,Td)),a.m=new Md(b,0,a.g))},Ud=function(a){return a instanceof Hd?a.clone():new Hd(a,void 0)},Ld=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Nd=function(a,b,c){return p(a)?(a=encodeURI(a).replace(b,Vd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,
"%$1")),a):null},Vd=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Od=/[#\/\?@]/g,Qd=/[\#\?:]/g,Pd=/[\#\?]/g,Td=/[\#\?@]/g,Rd=/#/g,Md=function(a,b,c){this.g=this.f=null;this.h=a||null;this.i=!!c},Wd=function(a){a.f||(a.f=new A,a.g=0,a.h&&Gd(a.h,function(b,c){var d=decodeURIComponent(b.replace(/\+/g," "));Wd(a);a.h=null;var d=Xd(a,d),e=a.f.get(d);e||a.f.set(d,e=[]);e.push(c);a.g=a.g+1}))};Md.prototype.w=function(){Wd(this);return this.g};
Md.prototype.remove=function(a){Wd(this);a=Xd(this,a);return cc(this.f,a)?(this.h=null,this.g=this.g-this.f.get(a).length,this.f.remove(a)):!1};Md.prototype.clear=function(){this.f=this.h=null;this.g=0};Md.prototype.H=function(){Wd(this);return 0==this.g};var Yd=function(a,b){Wd(a);b=Xd(a,b);return cc(a.f,b)};k=Md.prototype;k.D=function(){Wd(this);for(var a=this.f.A(),b=this.f.D(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.A=function(a){Wd(this);var b=[];if(p(a))Yd(this,a)&&(b=yb(b,this.f.get(Xd(this,a))));else{a=this.f.A();for(var c=0;c<a.length;c++)b=yb(b,a[c])}return b};k.set=function(a,b){Wd(this);this.h=null;a=Xd(this,a);Yd(this,a)&&(this.g=this.g-this.f.get(a).length);this.f.set(a,[b]);this.g=this.g+1;return this};k.get=function(a,b){var c=a?this.A(a):[];return 0<c.length?String(c[0]):b};
k.toString=function(){if(this.h)return this.h;if(!this.f)return"";for(var a=[],b=this.f.D(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.A(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.h=a.join("&")};k.clone=function(){var a=new Md;a.h=this.h;this.f&&(a.f=this.f.clone(),a.g=this.g);return a};
var Xd=function(a,b){var c=String(b);a.i&&(c=c.toLowerCase());return c},Sd=function(a,b){b&&!a.i&&(Wd(a),a.h=null,a.f.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.h=null,this.f.set(Xd(this,e),Ab(a)),this.g=this.g+a.length))},a));a.i=b};var Zd=z("Firefox"),$d=ic()||z("iPod"),ae=z("iPad"),be=z("Android")&&!(Ub()||z("Firefox")||z("Opera")||z("Silk")),ce=Ub(),de=z("Safari")&&!(Ub()||z("Coast")||z("Opera")||z("Edge")||z("Silk")||z("Android"))&&!(ic()||z("iPad")||z("iPod"));var ee=null,fe=null,he=function(a){var b=[];ge(a,function(a){b.push(a)});return b},ge=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=fe[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}ie();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}},ie=function(){if(!ee){ee={};fe={};for(var a=0;65>a;a++)ee[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),
fe[ee[a]]=a,62<=a&&(fe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var je=function(){};je.prototype.toString=function(){return this.f.toString()};var ke=function(){this.j=this.j;this.v=this.v};ke.prototype.j=!1;ke.prototype.aa=function(){this.j||(this.j=!0,this.F())};ke.prototype.F=function(){if(this.v)for(;this.v.length;)this.v.shift()()};var M=function(a,b){this.type=a;this.g=this.target=b;this.Ea=!0};M.prototype.h=function(){this.Ea=!1};var le=function(a){le[" "](a);return a};le[" "]=ba;var me=!C||9<=Number(wc),ne=C&&!uc("9");!mc||uc("528");lc&&uc("1.9b")||C&&uc("8")||jc&&uc("9.5")||mc&&uc("528");lc&&!uc("8")||C&&uc("9");var oe=function(a,b){M.call(this,a?a.type:"");this.g=this.target=null;this.button=0;this.f=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.g=b;var c=a.relatedTarget;if(c&&lc)try{le(c.nodeName)}catch(d){}this.button=a.button;this.state=a.state;this.f=a;a.defaultPrevented&&this.h()}};u(oe,M);
oe.prototype.h=function(){oe.I.h.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ne)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var pe="closure_listenable_"+(1E6*Math.random()|0),qe=function(a){return!(!a||!a[pe])},re=0;var se=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ea=e;this.key=++re;this.removed=this.$=!1},te=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ea=null};var ue=function(a){this.src=a;this.f={};this.g=0},we=function(a,b,c,d,e,f){var g=b.toString();b=a.f[g];b||(b=a.f[g]=[],a.g++);var h=ve(b,c,e,f);-1<h?(a=b[h],d||(a.$=!1)):(a=new se(c,a.src,g,!!e,f),a.$=d,b.push(a));return a};ue.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.f))return!1;var e=this.f[a];b=ve(e,b,c,d);return-1<b?(te(e[b]),wb(e,b),0==e.length&&(delete this.f[a],this.g--),!0):!1};
var xe=function(a,b){var c=b.type;c in a.f&&xb(a.f[c],b)&&(te(b),0==a.f[c].length&&(delete a.f[c],a.g--))};ue.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.f)if(!a||c==a){for(var d=this.f[c],e=0;e<d.length;e++)++b,te(d[e]);delete this.f[c];this.g--}return b};var ye=function(a,b,c,d,e){a=a.f[b.toString()];b=-1;a&&(b=ve(a,c,d,e));return-1<b?a[b]:null},ve=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ea==d)return e}return-1};var ze="closure_lm_"+(1E6*Math.random()|0),Ae={},Be=0,Ce=function(a,b,c,d,e){if(ea(b)){for(var f=0;f<b.length;f++)Ce(a,b[f],c,d,e);return null}c=De(c);return qe(a)?a.listen(b,c,d,e):Ee(a,b,c,!1,d,e)},Ee=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Fe(a);h||(a[ze]=h=new ue(a));c=we(h,b,c,d,e,f);if(c.proxy)return c;d=Ge();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(He(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Be++;return c},Ge=function(){var a=Ie,b=me?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Je=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Je(a,b[f],c,d,e);else c=De(c),qe(a)?we(a.g,String(b),c,!0,d,e):Ee(a,b,c,!0,d,e)},Ke=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)Ke(a,b[f],c,d,e);else c=De(c),qe(a)?a.C(b,c,d,e):a&&(a=Fe(a))&&(b=ye(a,b,c,!!d,e))&&Le(b)},Le=function(a){if("number"!=typeof a&&a&&!a.removed){var b=
a.src;if(qe(b))xe(b.g,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(He(c),d);Be--;(c=Fe(b))?(xe(c,a),0==c.g&&(c.src=null,b[ze]=null)):te(a)}}},He=function(a){return a in Ae?Ae[a]:Ae[a]="on"+a},Ne=function(a,b,c,d){var e=!0;if(a=Fe(a))if(b=a.f[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=Me(f,d),e=e&&!1!==f)}return e},Me=function(a,b){var c=a.listener,d=a.ea||a.src;a.$&&Le(a);return c.call(d,
b)},Ie=function(a,b){if(a.removed)return!0;if(!me){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new oe(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(n){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.g;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;0<=g;g--){c.g=e[g];var h=Ne(e[g],f,!0,c),d=d&&h}for(g=0;g<e.length;g++)c.g=e[g],h=Ne(e[g],
f,!1,c),d=d&&h}return d}return Me(a,new oe(b,this))},Fe=function(a){a=a[ze];return a instanceof ue?a:null},Oe="__closure_events_fn_"+(1E9*Math.random()>>>0),De=function(a){if(ga(a))return a;a[Oe]||(a[Oe]=function(b){return a.handleEvent(b)});return a[Oe]};var O=function(){ke.call(this);this.g=new ue(this);this.Ia=this;this.S=null};u(O,ke);O.prototype[pe]=!0;var Pe=function(a,b){Ce(a,"originViolation",b,void 0,void 0)};O.prototype.removeEventListener=function(a,b,c,d){Ke(this,a,b,c,d)};
var P=function(a,b){var c,d=a.S;if(d)for(c=[];d;d=d.S)c.push(d);var d=a.Ia,e=b,f=e.type||e;if(p(e))e=new M(e,d);else if(e instanceof M)e.target=e.target||d;else{var g=e,e=new M(f,d);Qb(e,g)}var g=!0,h;if(c)for(var n=c.length-1;0<=n;n--)h=e.g=c[n],g=Qe(h,f,!0,e)&&g;h=e.g=d;g=Qe(h,f,!0,e)&&g;g=Qe(h,f,!1,e)&&g;if(c)for(n=0;n<c.length;n++)h=e.g=c[n],g=Qe(h,f,!1,e)&&g};O.prototype.F=function(){O.I.F.call(this);this.g&&this.g.removeAll(void 0);this.S=null};
O.prototype.listen=function(a,b,c,d){return we(this.g,String(a),b,!1,c,d)};O.prototype.C=function(a,b,c,d){return this.g.remove(String(a),b,c,d)};var Qe=function(a,b,c,d){b=a.g.f[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var h=g.listener,n=g.ea||g.src;g.$&&xe(a.g,g);e=!1!==h.call(n,d)&&e}}return e&&0!=d.Ea};!lc&&!C||C&&9<=Number(wc)||lc&&uc("1.9.1");var Re=C&&!uc("9");var Se={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Te={IMG:" ",BR:"\n"},Ve=function(a){if(Re&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ue(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Re||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Ue=function(a,b,c){if(!(a.nodeName in Se))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in
Te)b.push(Te[a.nodeName]);else for(a=a.firstChild;a;)Ue(a,b,c),a=a.nextSibling};var We=function(){if(!C)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}},Xe=C&&We();var Ye=function(a){x.call(this,a)};u(Ye,x);Ye.prototype.name="chrome.runtime.lastError";var Ze=function(a,b){this.onNetworksChanged=a;this.onNetworkListChanged=b};t("castApp.core.NetworkingPrivateApi.WiFiProperties",function(){});t("castApp.core.NetworkingPrivateApi.NetworkProperties",function(){});t("castApp.core.setupApi.ConfiguredNetworkMsg",function(a,b,c,d){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.wpa_id=d});var $e=function(a,b){this.ssid=a;this.wpa_auth=b};t("castApp.core.setupApi.ConnectWiFiMsg",$e);var af=function(a,b,c,d,e,f,g,h,n,q,N){this.version=a;this.name=b;this.build_version=c;this.has_update=d;this.ssdp_udn=e;this.mac_address=f;this.connected=g;this.ssid=h;this.wpa_state=n;this.setup_state=q;this.wpa_configured=N};t("castApp.core.setupApi.EurekaInfoMsg34Base",af);
var bf=function(a,b,c,d,e,f,g,h,n,q){af.call(this,3,a,b,c,d,e,f,g,h,n,q)};u(bf,af);t("castApp.core.setupApi.EurekaInfoMsgV3",bf);bf.Location=function(a,b){this.latitude=a;this.longitude=b};var cf=function(a,b,c){this.certificate=a;this.nonce=b;this.signed_data=c};bf.Sign=cf;var df=function(){};bf.Detail=df;df.Timezone=function(a,b){this.display_string=a;this.offset=b};df.Locale=function(a){this.display_string=a};
var ef=function(a,b,c,d,e,f,g,h,n,q,N,Ja){af.call(this,a,b,c,d,e,f,g,h,n,q,N);this.uptime=Ja};u(ef,af);t("castApp.core.setupApi.EurekaInfoMsgV4",ef);
var ff=function(a){y(a,"locale","en-US");y(a,"debug_build",!1);y(a,"update_only_build",!1);y(a,"ethernet_connected",!1);y(a,"tos_accepted",!0);y(a,"time_format",0);y(a,"hdmi_control",!0);p(a.hotspot_bssid)||a.mac_address&&5<=a.mac_address.length&&(a.hotspot_bssid="00:1A:11:FF:"+a.mac_address.substr(a.mac_address.length-5));if(a.opt_in){var b=a.opt_in;y(b,"crash",!0);y(b,"stats",!0);y(b,"device_id",!1);y(b,"location",!1);y(b,"opencast",!1)}return a};ef.SetupStats=function(){};var gf=function(){};
ef.Location=gf;var hf=function(){};ef.OptIn=hf;var jf=function(a,b,c){cf.call(this,a,b,c)};u(jf,cf);ef.Sign=jf;var kf=function(a){this.manufacturer="Google Inc.";this.model_name="Eureka Dongle";this.icon_list=a};u(kf,df);ef.Detail=kf;kf.Icon=function(a,b,c,d){this.mimetype="image/png";this.width=a;this.height=b;this.depth=c;this.url=d};var lf=function(){};t("castApp.core.setupApi.EurekaInfoMsgV7",lf);lf.BuildInfo=function(){};var mf=function(){};lf.DeviceInfo=mf;mf.Capabilities=function(){};
lf.OtaStatus=function(){};lf.Net=function(){};lf.WiFi=function(){};var nf=function(){};lf.Setup=nf;nf.Stats=function(){};var of=function(){};lf.Settings=of;var pf=function(){};lf.OptIn=pf;lf.OpenCast=function(){};lf.Multizone=function(){};var qf=function(a){this.wpa_id=a};t("castApp.core.setupApi.ForgetWiFiMsg",qf);t("castApp.core.setupApi.GetAppDeviceIdRequestMsg",function(a){this.app_id=a});
t("castApp.core.setupApi.GetAppDeviceIdResponseMsg",function(a,b,c){this.app_device_id=a;this.certificate=b;this.signed_data=c});t("castApp.core.setupApi.OfferMsg",function(a){this.token=a});var rf=function(a){this.sound_id=a};t("castApp.core.setupApi.PlaySoundRequestMsg",rf);t("castApp.core.setupApi.PlaySoundResponseMsg",function(a,b){this.volume=a;this.duration=b});var sf=function(a){this.params=a};t("castApp.core.setupApi.RebootMsg",sf);
var tf=function(a,b,c,d,e){this.ssid=a;this.wpa_auth=b;this.wpa_cipher=c;this.bssid=d;this.signal_level=e};t("castApp.core.setupApi.ScanResultMsgBase",tf);var uf=function(a,b,c,d,e,f){tf.call(this,a,b,c,d,e);this.ap_list=f};u(uf,tf);t("castApp.core.setupApi.ScanResultMsgV7",uf);uf.Ap=function(a,b,c){this.bssid=a;this.signal_level=b;this.frequency=c};var vf=function(){};t("castApp.core.setupApi.SaveWiFiRequestMsg",vf);t("castApp.core.setupApi.SaveWiFiResponseMsg",function(a){this.setup_state=a});
t("castApp.core.setupApi.SendLogReportRequestMsg",function(a){this.uuid=a});t("castApp.core.setupApi.SendLogReportResponseMsg",function(a){this.crash_report_id=a});var wf=function(){};t("castApp.core.setupApi.SetEurekaInfoMsgBase",wf);var xf=function(){};u(xf,wf);t("castApp.core.setupApi.SetEurekaInfoMsgV3",xf);var yf=function(){};u(yf,wf);t("castApp.core.setupApi.SetEurekaInfoMsgV4",yf);var zf=function(){};u(zf,wf);t("castApp.core.setupApi.SetEurekaInfoMsgV7",zf);
t("castApp.core.setupApi.SupportedLocale",function(a,b){this.locale=a;this.display_string=b});t("castApp.core.setupApi.SupportedTimeZone",function(a,b,c){this.timezone=a;this.display_string=b;this.offset=c});var Af=function(a){this.id=a};t("castApp.core.storage.SetupSession",Af);var Bf=function(){};t("castApp.core.storage.CommonSetupState",Bf);var Cf=function(a){this.type=a.type;this.name=a.name;this.bssid=a.bssid;this.ssid=a.ssid;this.ipAddress=a.ipAddress};t("castApp.core.storage.DeviceToSetUp",Cf);var Df=function(a){this.deviceIpAddress=a};t("castApp.core.storage.SetupApiClientState",Df);var Ef=function(a){this.f=a};t("castApp.core.storage.ConnectWiFiState",Ef);
t("castApp.core.storage.EurekaInfoState",function(a,b,c,d,e,f,g,h){this.setupApiVersion=a;this.name=b;this.setupState=c;this.ssdpUdn=d;this.deviceType=e;this.displaySupported=f;this.ethernetConnected=g;this.tosAccepted=h});var Ff=function(a,b){this.timeStamp=a;this.verificationProperties=b};t("castApp.core.storage.VerificationState",Ff);var Q=function(a){this.type=a};t("castApp.core.storage.SetupState",Q);var Gf=function(a,b){this.all=b;this.current=a};
t("castApp.core.storage.SetupStateCollection",Gf);
var Hf=function(a,b,c){this.type=a;this.time=b;this.deviceId=c},If=function(a){a.removeItem("setupSessionId")},Jf=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&0==e.lastIndexOf("setupSession_",0)){var f;a:{var g=a,h=g.getItem(e);if(h)try{f=JSON.parse(h);break a}catch(n){g.removeItem(e)}f=null}f&&b.push(f)}}return b},Kf=function(){if("object"===typeof chrome||"object"===typeof chrome.extension||"function"===typeof chrome.extension.getViews){var a=new B;chrome.extension.getViews().forEach(function(b){(b=
b.sessionStorage.getItem("setupSessionId"))&&fc(a,b)});for(var b=new B,c=0,d=window.localStorage.length;c<d;++c){var e=window.localStorage.key(c);e&&0==e.lastIndexOf("setupSession_",0)&&fc(b,e.substr(13))}Yb(hc(b,a),function(a){window.localStorage.removeItem("setupSession_"+a)})}},Lf=function(a,b){a.setItem("setupSession_"+b.id,JSON.stringify(b))},Mf=function(a,b){a.removeItem("setupSession_"+b.id)},Nf=function(a){var b=a.getItem("setupDeviceState");if(b)try{return JSON.parse(b)}catch(c){a.removeItem("setupDeviceState")}return[]},
Of=function(a,b){0===b.length?a.removeItem("setupDeviceState"):a.setItem("setupDeviceState",JSON.stringify(b))};var Pf=[[0xfa8fca000000,0xfa8fcaffffff],[111971074048,111971139583]],Qf=["Chromecast","Chromecast Audio","Chromekey","Eureka Dongle"],Rf={a:1,b:2,c:3,d:4,e:5},Sf=function(a){if(!/^([0-9a-fA-F]{2}:){5}[0-9a-fA-F]{2}$/.test(a))return NaN;var b=parseInt,c=RegExp,d;d=":".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08");c=new c(d,"g");a=a.replace(c,"");return b(a,16)},Tf=function(a,b){return!(!a||!b||0!==oa(a,b))},Uf=function(a){var b=Sf(a);return!!tb(Pf,function(a){return b>=a[0]&&
b<=a[1]})},Vf=function(a){return!a.WiFi||!a.WiFi.BSSID||a.WiFi.Security&&"None"!==a.WiFi.Security?!1:Uf(a.WiFi.BSSID)},Wf=function(a){var b=/^(.*)\.([a-e])$/.exec(a);return b&&3===b.length?{name:b[1],type:b[2]}:{name:a,type:"c"}},Xf=function(a){var b;if("undefined"!=typeof DOMParser)b=(new DOMParser).parseFromString(a,"application/xml");else if(Xe){b=new ActiveXObject("MSXML2.DOMDocument");b.resolveExternals=!1;b.validateOnParse=!1;try{b.setProperty("ProhibitDTD",!0),b.setProperty("MaxXMLSize",2048),
b.setProperty("MaxElementDepth",256)}catch(e){}b.loadXML(a)}else throw Error("Your browser does not support loading xml documents");if(!b)return null;var c=b.querySelector("root > device > manufacturer");a=b.querySelector("root > device > modelName");if(!c||!a)return null;c=Ve(c);a=Ve(a);a="Google Inc."==c&&0<=qb(Qf,a);var d=b.querySelector("root > URLBase"),c=b.querySelector("root > device > friendlyName");b=b.querySelector("root > device > UDN");if(!d||!c||!b)return null;d=Ve(d);d=Ud(d).f;c=Ve(c);
b=Ve(b);return{name:c,ipAddress:d,M:b,kb:a}},Yf=function(a){switch(a){case 1:return"a";case 2:return"b";case 4:return"d";case 5:return"e"}return"c"},Zf=function(a){switch(a){case 2:case 3:case 4:return 3;case 5:case 6:return 4;case 7:case 8:return 5}return 2},$f=function(a){switch(a){case 2:return 1;case 3:return 2;case 4:return 5;case 5:return 7}return 0},ag=function(a){var b=2;1===a.g?b=3:2===a.g&&(b=4);var c=new Wa(b,[],null,null);c.selectedNetwork=new Va(a.f.ssid,null,Zf(a.f.wpa_auth));a.bssid&&
(c.selectedNetwork.bssid=a.bssid,c.networks.push(c.selectedNetwork));a.f.enc_passwd&&4!==b&&(c.encryptedPassword=a.f.enc_passwd);return c},bg=function(a,b,c){switch(a){case 3:return c=new xf,c.name=b,c;case 4:case 5:case 6:return a=new yf,a.name=b,a.opt_in=new hf,a.opt_in.crash=a.opt_in.stats=c,a;default:return a=new zf,a.name=b,a.opt_in=new pf,a.opt_in.stats=c,a}};var cg=function(a,b,c){if(ga(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)},R=function(a){var b=null;return K(new F(function(c,d){b=cg(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(a){l.clearTimeout(b);throw a;})};var dg=function(){};dg.prototype.f=null;var fg=function(a){var b;(b=a.f)||(b={},eg(a)&&(b[0]=!0,b[1]=!0),b=a.f=b);return b};var gg,hg=function(){};u(hg,dg);var ig=function(a){return(a=eg(a))?new ActiveXObject(a):new XMLHttpRequest},eg=function(a){if(!a.g&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.g=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.g};gg=new hg;var S=function(a){O.call(this);this.headers=new A;this.K=a||null;this.h=!1;this.J=this.f=null;this.R="";this.l=0;this.i=this.N=this.u=this.L=!1;this.o=0;this.B=null;this.m="";this.ga=this.s=!1};u(S,O);var jg=/^https?$/i,kg=["POST","PUT"];S.prototype.Ba=function(){return this.m};S.prototype.Ca=function(){return this.s};
S.prototype.send=function(a,b,c,d){if(this.f)throw Error("[goog.net.XhrIo] Object is active with another request="+this.R+"; newUri="+a);b=b?b.toUpperCase():"GET";this.R=a;this.l=0;this.L=!1;this.h=!0;this.f=this.K?ig(this.K):ig(gg);this.J=this.K?fg(this.K):fg(gg);this.f.onreadystatechange=r(this.ua,this);try{this.N=!0,this.f.open(b,String(a),!0),this.N=!1}catch(f){lg(this);return}a=c||"";var e=this.headers.clone();d&&ec(d,function(a,b){e.set(b,a)});d=tb(e.D(),mg);c=l.FormData&&a instanceof l.FormData;
!(0<=qb(kg,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.f.setRequestHeader(b,a)},this);this.m&&(this.f.responseType=this.m);Nb(this.f)&&(this.f.withCredentials=this.s);try{ng(this),0<this.o&&((this.ga=og(this.f))?(this.f.timeout=this.o,this.f.ontimeout=r(this.ta,this)):this.B=cg(this.ta,this.o,this)),this.u=!0,this.f.send(a),this.u=!1}catch(f){lg(this)}};
var og=function(a){return C&&uc(9)&&"number"==typeof a.timeout&&m(a.ontimeout)},mg=function(a){return"content-type"==a.toLowerCase()};S.prototype.ta=function(){"undefined"!=typeof aa&&this.f&&(this.l=8,P(this,"timeout"),this.abort(8))};var lg=function(a){a.h=!1;a.f&&(a.i=!0,a.f.abort(),a.i=!1);a.l=5;pg(a);qg(a)},pg=function(a){a.L||(a.L=!0,P(a,"complete"),P(a,"error"))};
S.prototype.abort=function(a){this.f&&this.h&&(this.h=!1,this.i=!0,this.f.abort(),this.i=!1,this.l=a||7,P(this,"complete"),P(this,"abort"),qg(this))};S.prototype.F=function(){this.f&&(this.h&&(this.h=!1,this.i=!0,this.f.abort(),this.i=!1),qg(this,!0));S.I.F.call(this)};S.prototype.ua=function(){this.j||(this.N||this.u||this.i?rg(this):this.Ja())};S.prototype.Ja=function(){rg(this)};
var rg=function(a){if(a.h&&"undefined"!=typeof aa&&(!a.J[1]||4!=sg(a)||2!=tg(a)))if(a.u&&4==sg(a))cg(a.ua,0,a);else if(P(a,"readystatechange"),4==sg(a)){a.h=!1;try{ug(a)?(P(a,"complete"),P(a,"success")):(a.l=6,pg(a))}finally{qg(a)}}},qg=function(a,b){if(a.f){ng(a);var c=a.f,d=a.J[0]?ba:null;a.f=null;a.J=null;b||P(a,"ready");try{c.onreadystatechange=d}catch(e){}}},ng=function(a){a.f&&a.ga&&(a.f.ontimeout=null);"number"==typeof a.B&&(l.clearTimeout(a.B),a.B=null)},ug=function(a){var b=tg(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=
!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.R).match(Fd)[1]||null,!a&&l.self&&l.self.location&&(a=l.self.location.protocol,a=a.substr(0,a.length-1)),b=!jg.test(a?a.toLowerCase():"");c=b}return c},sg=function(a){return a.f?a.f.readyState:0},tg=function(a){try{return 2<sg(a)?a.f.status:-1}catch(b){return-1}};S.prototype.ca=function(){try{return this.f?this.f.responseText:""}catch(a){return""}};
S.prototype.getResponseHeader=function(a){return this.f&&4==sg(this)?this.f.getResponseHeader(a):void 0};var vg=function(a){var b={};a=(a.f&&4==sg(a)?a.f.getAllResponseHeaders():"").split("\r\n");for(var c=0;c<a.length;c++)if(!/^[\s\xa0]*$/.test(a[c])){var d;d=2;for(var e=a[c].split(": "),f=[];0<d&&e.length;)f.push(e.shift()),d--;e.length&&f.push(e.join(": "));d=f;b[d[0]]=b[d[0]]?b[d[0]]+(", "+d[1]):d[1]}return b};var wg=function(a){ke.call(this);this.g=a;this.f={}};u(wg,ke);var xg=[];k=wg.prototype;k.listen=function(a,b,c,d){ea(b)||(b&&(xg[0]=b.toString()),b=xg);for(var e=0;e<b.length;e++){var f=Ce(a,b[e],c||this.handleEvent,d||!1,this.g||this);if(!f)break;this.f[f.key]=f}return this};
k.C=function(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)this.C(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.g||this,c=De(c),d=!!d,b=qe(a)?ye(a.g,String(b),c,d,e):a?(a=Fe(a))?ye(a,b,c,d,e):null:null,b&&(Le(b),delete this.f[b.key]);return this};k.removeAll=function(){Kb(this.f,function(a,b){this.f.hasOwnProperty(b)&&Le(a)},this);this.f={}};k.F=function(){wg.I.F.call(this);this.removeAll()};k.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var yg=function(){this.g=[];this.f=[]},zg=function(a){0==a.g.length&&(a.g=a.f,a.g.reverse(),a.f=[]);return a.g.pop()};k=yg.prototype;k.w=function(){return this.g.length+this.f.length};k.H=function(){return 0==this.g.length&&0==this.f.length};k.clear=function(){this.g=[];this.f=[]};k.contains=function(a){return 0<=qb(this.g,a)||0<=qb(this.f,a)};k.remove=function(a){var b;b=this.g;var c=rb(b,a);0<=c?(wb(b,c),b=!0):b=!1;return b||xb(this.f,a)};
k.A=function(){for(var a=[],b=this.g.length-1;0<=b;--b)a.push(this.g[b]);for(var c=this.f.length,b=0;b<c;++b)a.push(this.f[b]);return a};var Ag=function(a,b){ke.call(this);this.o=a||0;this.h=b||10;if(this.o>this.h)throw Error("[goog.structs.Pool] Min can not be greater than max");this.f=new yg;this.g=new B;this.m=null;this.Y()};u(Ag,ke);Ag.prototype.ba=function(){var a=ma();if(!(null!=this.m&&0>a-this.m)){for(var b;0<this.f.w()&&(b=zg(this.f),!this.pa(b));)this.Y();!b&&this.w()<this.h&&(b=this.l());b&&(this.m=a,fc(this.g,b));return b}};Ag.prototype.W=function(a){this.g.remove(a);this.pa(a)&&this.w()<this.h?this.f.f.push(a):Bg(a)};
Ag.prototype.Y=function(){for(var a=this.f;this.w()<this.o;){var b=this.l();a.f.push(b)}for(;this.w()>this.h&&0<this.f.w();)Bg(zg(a))};Ag.prototype.l=function(){return{}};var Bg=function(a){if("function"==typeof a.aa)a.aa();else for(var b in a)a[b]=null};k=Ag.prototype;k.pa=function(a){return"function"==typeof a.La?a.La():!0};k.contains=function(a){return this.f.contains(a)||this.g.contains(a)};k.w=function(){return this.f.w()+this.g.w()};k.H=function(){return this.f.H()&&this.g.H()};
k.F=function(){Ag.I.F.call(this);if(0<this.g.w())throw Error("[goog.structs.Pool] Objects not released");delete this.g;for(var a=this.f;!a.H();)Bg(zg(a));delete this.f};var Cg=function(a,b){this.f=a;this.g=b};Cg.prototype.clone=function(){return new Cg(this.f,this.g)};var Dg=function(a){this.f=[];if(a)a:{var b;if(a instanceof Dg){if(b=a.D(),a=a.A(),0>=this.w()){for(var c=this.f,d=0;d<b.length;d++)c.push(new Cg(b[d],a[d]));break a}}else b=Mb(a),a=Lb(a);for(d=0;d<b.length;d++)Eg(this,b[d],a[d])}},Eg=function(a,b,c){var d=a.f;d.push(new Cg(b,c));b=d.length-1;a=a.f;for(c=a[b];0<b;)if(d=b-1>>1,a[d].f>c.f)a[b]=a[d],b=d;else break;a[b]=c};k=Dg.prototype;
k.remove=function(){var a=this.f,b=a.length,c=a[0];if(!(0>=b)){if(1==b)vb(a);else{a[0]=a.pop();for(var a=0,b=this.f,d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2,f=g<d&&b[g].f<b[f].f?g:f;if(b[f].f>e.f)break;b[a]=b[f];a=f}b[a]=e}return c.g}};k.A=function(){for(var a=this.f,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].g);return b};k.D=function(){for(var a=this.f,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].f);return b};k.clone=function(){return new Dg(this)};k.w=function(){return this.f.length};
k.H=function(){return 0==this.f.length};k.clear=function(){vb(this.f)};var Fg=function(){Dg.call(this)};u(Fg,Dg);var Gg=function(a,b){this.i=new Fg;Ag.call(this,a,b)};u(Gg,Ag);k=Gg.prototype;k.ba=function(a,b){if(!a)return Gg.I.ba.call(this);Eg(this.i,m(b)?b:100,a);this.la()};k.la=function(){for(var a=this.i;0<a.w();){var b=this.ba();if(b)a.remove().apply(this,[b]);else break}};k.W=function(a){Gg.I.W.call(this,a);this.la()};k.Y=function(){Gg.I.Y.call(this);this.la()};k.F=function(){Gg.I.F.call(this);l.clearTimeout(void 0);this.i.clear();this.i=null};var Hg=function(a,b,c,d){this.s=a;this.u=!!d;Gg.call(this,b,c)};u(Hg,Gg);Hg.prototype.l=function(){var a=new S,b=this.s;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.u&&(a.s=!0);return a};Hg.prototype.pa=function(a){return!a.j&&!a.f};var Ig=function(a,b,c,d,e,f){O.call(this);this.m=m(a)?a:1;this.l=m(e)?Math.max(0,e):0;this.h=new Hg(b,c,d,f);this.f=new A;this.i=new wg(this)};u(Ig,O);var Jg="ready complete success error abort timeout".split(" ");Ig.prototype.send=function(a,b,c,d,e,f,g,h,n,q){if(this.f.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new Kg(b,r(this.s,this,a),c,d,e,g,m(h)?h:this.m,n,q);this.f.set(a,b);a=r(this.o,this,a);this.h.ba(a,f);return b};
Ig.prototype.abort=function(a,b){var c=this.f.get(a);if(c){var d=c.fa;c.va=!0;b&&(d&&(this.i.C(d,Jg,c.sa),Je(d,"ready",function(){var a=this.h;a.g.remove(d)&&a.W(d)},!1,this)),this.f.remove(a));d&&d.abort()}};Ig.prototype.o=function(a,b){var c=this.f.get(a);c&&!c.fa?(this.i.listen(b,Jg,c.sa),b.o=Math.max(0,this.l),b.m=c.Ba(),b.s=c.Ca(),c.fa=b,P(this,new Lg("ready",this,a,b)),Mg(this,a,b),c.va&&b.abort()):(c=this.h,c.g.remove(b)&&c.W(b))};
Ig.prototype.s=function(a,b){var c=b.target;switch(b.type){case "ready":Mg(this,a,c);break;case "complete":a:{var d=this.f.get(a);if(7==c.l||ug(c)||d.Z>d.ka)if(P(this,new Lg("complete",this,a,c)),d&&(d.Aa=!0,d.za)){c=d.za.call(c,b);break a}c=null}return c;case "success":P(this,new Lg("success",this,a,c));break;case "timeout":case "error":d=this.f.get(a);d.Z>d.ka&&P(this,new Lg("error",this,a,c));break;case "abort":P(this,new Lg("abort",this,a,c))}return null};
var Mg=function(a,b,c){var d=a.f.get(b);!d||d.Aa||d.Z>d.ka?(d&&(a.i.C(c,Jg,d.sa),a.f.remove(b)),a=a.h,a.g.remove(c)&&a.W(c)):(d.Z++,c.send(d.$a,d.lb,d.Ya,d.Za))};Ig.prototype.F=function(){Ig.I.F.call(this);this.h.aa();this.h=null;this.i.aa();this.i=null;this.f.clear();this.f=null};var Lg=function(a,b,c,d){M.call(this,a,b);this.id=c;this.fa=d};u(Lg,M);
var Kg=function(a,b,c,d,e,f,g,h,n){this.$a=a;this.lb=c||"GET";this.Ya=d;this.Za=e||null;this.ka=m(g)?g:1;this.Z=0;this.va=this.Aa=!1;this.sa=b;this.za=f;this.f=h||"";this.g=!!n;this.fa=null};Kg.prototype.Ca=function(){return this.g};Kg.prototype.Ba=function(){return this.f};var Ng=function(){},Og=function(){x.call(this)};u(Og,x);Og.prototype.name="httpStatus";var Pg=function(){x.call(this)};u(Pg,x);Pg.prototype.name="httpResponseParsing";var Qg=function(a,b){return a.request(b).then(function(a){if(!oa(a.getResponseHeader("content-type")||"","application/json"))try{return JSON.parse(a.ca())}catch(b){}throw new Pg;})},Rg=function(){this.f=new A;this.g=0};u(Rg,Ng);var Sg=function(a){this.g=a.ca();this.f={};Kb(vg(a),function(a,c){this.f[c.toLowerCase()]=a},this)};
Sg.prototype.ca=function(){return this.g};Sg.prototype.getResponseHeader=function(a){return this.f[a.toLowerCase()]||void 0};Rg.prototype.request=function(a){var b=I(),c=a.timeout||1E4,d=this.f.get(c);d||(d=new Ig,d.l=Math.max(0,c),this.f.set(c,d));c=a.method||"GET";d.send(this.g++,a.url,c,a.content,a.headers,0,function(a){a=a.target;ug(a)?b.g(new Sg(a)):b.h(new Og)},a.G);return b.f};t("castApp.clearcut.WorkerMessage",function(a,b){this.type=a;b&&(this.browserLocale=b)});t("castApp.clearcut.EventRecord",function(a,b){this.eventTimeMs=a;this.sourceExtensionJs=b});var Tg=function(a){a||(a=[]);this.f=a;a:{if(this.f.length){a=this.f.length-1;var b=this.f[a];if(b&&"object"==typeof b&&!ea(b)){this.g=a- -1;this.h=b;break a}}this.g=Number.MAX_VALUE}};u(Tg,je);var Ug=function(){},Vg=function(){};u(Vg,Ug);Vg.prototype.g=function(){};Vg.prototype.f=function(){return G(3)};Vg.prototype.i=function(){};var Wg=function(a){this.j=chrome.metricsPrivate;this.h=a};u(Wg,Ug);Wg.prototype.g=function(a,b,c){this.f().then(function(a){2===a&&this.j.recordUserAction("Cast.Chrome.App."+c.toString())}.bind(this))};Wg.prototype.f=function(){var a=parseInt(this.h.getItem("castApp.analyticsOptIn"),10);if(isNaN(a)||1>a||3<a)a=1;return G(a)};
Wg.prototype.i=function(a){var b=this.h;a=a?2:3;1===a?b.removeItem("castApp.analyticsOptIn"):b.setItem("castApp.analyticsOptIn",a.toString())};var Xg=function(){Ze.call(this,chrome.networkingPrivate.onNetworksChanged,chrome.networkingPrivate.onNetworkListChanged)};u(Xg,Ze);ca(Xg);var Yg=function(a){return chrome.runtime.lastError?(a.h(new Ye(chrome.runtime.lastError.message)),!0):!1};k=Xg.prototype;k.getNetworks=function(a){var b=I();chrome.networkingPrivate.getNetworks(a,function(a){Yg(b)||b.g(a)});return b.f};k.getProperties=function(a){var b=I();chrome.networkingPrivate.getProperties(a,function(a){Yg(b)||b.g(a)});return b.f};
k.requestNetworkScan=function(){chrome.networkingPrivate.requestNetworkScan()};k.startConnect=function(a){var b=I();chrome.networkingPrivate.startConnect(a,function(){Yg(b)||b.g()});return b.f};k.startDisconnect=function(a){var b=I();chrome.networkingPrivate.startDisconnect(a,function(){Yg(b)||b.g()});return b.f};k.verifyDestination=function(a){var b=I();chrome.networkingPrivate.verifyDestination(a,function(a){Yg(b)||b.g(a)});return b.f};
k.verifyAndEncryptData=function(a,b){var c=I();chrome.networkingPrivate.verifyAndEncryptData(a,b,function(a){Yg(c)||c.g(a)});return c.f};var Zg=function(){this.f=new B},$g=function(a,b){fc(a.f,b);return J(b,function(){this.f.remove(b)}.bind(a))},ah=function(a){if(a.f.H())return G();var b=a.f;a.f=new B;return new F(function(a){Yb(b,function(d){J(d,function(){b.remove(d)&&b.H()&&a()});d.cancel()})})};var bh=function(){x.call(this)};u(bh,x);bh.prototype.name="httpTimeout";var ch=function(a,b){var c=I(),d=function(a){c.g(a)};a.listen(b,d);return J(c.f,function(){a.C(b,d)})},dh=function(a){if(a instanceof L)throw a;};var T=function(a,b){this.l=a;this.j=b;this.i=new Zg;this.h=new O;this.f="stopped"};T.prototype.getState=function(){return this.f};T.prototype.g=function(a){a!==this.f&&(this.f=a,P(this.h,a))};T.prototype.start=function(){switch(this.f){case "stopped":case "stopping":return this.restart();case "starting":case "stoppingStartPending":return eh(this);case "started":return G();default:return G()}};
T.prototype.restart=function(){switch(this.f){case "starting":case "started":this.g("stoppingStartPending");fh(this);break;case "stopping":this.g("stoppingStartPending");break;case "stopped":this.g("starting"),gh(this)}return eh(this)};var eh=function(a){var b=new Zg;return J(K(new F(function(a,d){$g(b,ch(this.h,"started")).then(function(){a()});$g(b,ch(this.h,"stopped")).then(function(){d()})}.bind(a)),function(a){a instanceof L&&this.stop();throw a;},a),function(){ah(b)})};
T.prototype.stop=function(){if("stopped"===this.f)return G();var a=this.f;this.g("stopping");"starting"!==a&&"started"!==a||fh(this);return ch(this.h,"stopped")};
var U=function(a,b){if("starting"===a.f||"started"===a.f)return $g(a.i,b),b;b.cancel();return H(new L)},hh=function(a){return"started"===a.f?G():ch(a.h,"started")},fh=function(a){ah(a.i).then(function(){try{if(this.j)return this.j()}catch(a){}}.bind(a)).then(function(){"stoppingStartPending"===this.f?(this.g("starting"),gh(this)):this.g("stopped")}.bind(a))},gh=function(a){var b=null;try{b=a.l()}catch(c){b=H(c)}"starting"!==a.f?b.cancel():K($g(a.i,b).then(a.g.bind(a,"started")),a.stop,a)};var lh=function(a,b,c){var d=window,e=new Rg,f=ih,g=jh,h=kh,n=window.location.reload.bind(window.location);this.f=a;this.m=b;this.l=c;this.j=e;this.h=d.localStorage;this.i=d.sessionStorage;this.s=f;this.g=g;this.o=h;this.reload=n};var mh=function(a,b,c,d){this.h=a;this.i=b;this.f=this.g=a;this.j=c||0;this.l=d||2};mh.prototype.reset=function(){this.f=this.g=this.h};var nh=function(a){a.f=Math.min(a.i,a.f*a.l);a.g=Math.min(a.i,a.f+(a.j?Math.round(a.j*(Math.random()-.5)*2*a.f):0))};var oh=function(a,b){this.onDeviceList=a;this.onError=b},ph=function(){oh.call(this,chrome.dial.onDeviceList,chrome.dial.onError)};u(ph,oh);ph.prototype.discoverNow=function(){return new F(function(a,b){chrome.dial.discoverNow(function(){chrome.runtime.lastError?b(new Ye(chrome.runtime.lastError.message)):a()})})};ca(ph);var qh=function(a){return(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):""},rh=function(a){return(a=a.match(/[-_]([a-zA-Z]{2}|\d{3})([-_]|$)/))?a[0].replace(/[_-]/g,""):""};var sh=function(a){return(a=a.exec(Rb))?a[1]:""},th=function(){if(Zd)return sh(/Firefox\/([0-9.]+)/);if(C||kc||jc)return sc;if(ce)return sh(/Chrome\/([0-9.]+)/);if(de&&!(ic()||z("iPad")||z("iPod")))return sh(/Version\/([0-9.]+)/);if($d||ae){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Rb);if(a)return a[1]+"."+a[2]}else if(be)return(a=sh(/Android\s+([0-9.]+)/))?a:sh(/Version\/([0-9.]+)/);return""}();var uh=function(){this.g=-1};var vh=function(){this.g=-1;this.g=64;this.f=[];this.l=[];this.m=[];this.i=[];this.i[0]=128;for(var a=1;a<this.g;++a)this.i[a]=0;this.j=this.h=0;this.reset()};u(vh,uh);vh.prototype.reset=function(){this.f[0]=1732584193;this.f[1]=4023233417;this.f[2]=2562383102;this.f[3]=271733878;this.f[4]=3285377520;this.j=this.h=0};
var wh=function(a,b,c){c||(c=0);var d=a.m;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.f[0];c=a.f[1];for(var g=a.f[2],h=a.f[3],n=a.f[4],q,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),q=1518500249):(f=c^g^h,q=1859775393):60>e?(f=c&g|h&(c|g),q=2400959708):(f=c^g^h,q=3395469782),
f=(b<<5|b>>>27)+f+n+q+d[e]&4294967295,n=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.f[0]=a.f[0]+b&4294967295;a.f[1]=a.f[1]+c&4294967295;a.f[2]=a.f[2]+g&4294967295;a.f[3]=a.f[3]+h&4294967295;a.f[4]=a.f[4]+n&4294967295};
vh.prototype.update=function(a,b){if(null!=a){m(b)||(b=a.length);for(var c=b-this.g,d=0,e=this.l,f=this.h;d<b;){if(0==f)for(;d<=c;)wh(this,a,d),d+=this.g;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.g){wh(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.g){wh(this,e);f=0;break}}this.h=f;this.j+=b}};var xh=function(a,b){if(b+1>=a.length)return null;if(!(a[b+1]&128))return{length:a[b+1],na:1};var c=a[b+1]&127;if(b+c+1>=a.length||2<c)return null;for(var d=0,e=2;e<=c+1;e++)d=d<<8|a[b+e];return{length:d,na:c+1}},yh=function(a){var b=[{action:"step",code:48,optional:!1},{action:"step",code:48,optional:!1},{action:"skip",code:160,optional:!0},{action:"skip",code:2,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",code:48,optional:!1},{action:"skip",
code:48,optional:!1},{action:"return",code:48,optional:!1}],c=0,d=-1;if(65535<a.length)return null;for(;b.length;){var e=b.shift();d++;if(a[c]!=e.code){if(e.optional)continue;break}var f=xh(a,c);if(!f)break;var g=c+f.length+f.na;if(g>=a.length)break;switch(e.action){case "step":c+=f.na+1;continue;case "skip":c=g+1;continue;case "return":return Cb(a,c,g+1);default:return null}}return null},zh=function(a){for(var b=a.length,c=0,d=0;d<b-1;d++)c+=a[d];c=(a[b-1]+16*c)%24;a=65+c;73<=a&&a++;79<=a&&a++;return String.fromCharCode(a)},
Ah=function(a){return String.fromCharCode(50+a[a.length-1]%8)},Bh=function(a,b){for(var c=[],d=0;4>d;d++)c[d]=a[b+d]^a[16+d];return c};var Ch=function(a){this.f=a},Dh=function(a,b,c,d){if(!a.i(d))return H();var e=a.g(d.bssid);if(!e||!a.h(c))return H();a=b.verifyDestination(e);K(a,function(){});return a.then(function(a){if(!a)return H();a=new Ff((new Date).getTime(),e);var b;var c=e.certificate.replace(/[\r\n]/g,""),c=c.replace("-----BEGIN CERTIFICATE-----",""),c=c.replace("-----END CERTIFICATE-----","");try{b=he(c)}catch(d){b=null}if(b)if(c=yh(b)){b=new vh;b.update(c);var c=[],n=8*b.j;56>b.h?b.update(b.i,56-b.h):b.update(b.i,b.g-
(b.h-56));for(var q=b.g-1;56<=q;q--)b.l[q]=n&255,n/=256;wh(b,b.l);for(q=n=0;5>q;q++)for(var N=24;0<=N;N-=8)c[n]=b.f[q]>>N&255,++n;c?(b=[],b[0]=zh(Bh(c,0)),b[1]=Ah(Bh(c,4)),b[2]=zh(Bh(c,8)),b[3]=Ah(Bh(c,12))):b=null}else b=null;else b=null;if(!b)return H();a.pin=b;return a})},Eh=function(a){this.f=a};u(Eh,Ch);Eh.prototype.i=function(a){return a.ssid===this.f.name};Eh.prototype.h=function(){return!0};
Eh.prototype.g=function(a){var b=this.f,c={};if(!(b.public_key&&b.ssdp_udn&&b.name&&b.sign&&b.sign.certificate&&b.sign.nonce&&b.sign.signed_data))return null;c.certificate=b.sign.certificate;c.publicKey=b.public_key;c.nonce=b.sign.nonce;c.signedData=b.sign.signed_data;c.deviceSerial=b.ssdp_udn;c.deviceSsid=b.name;c.deviceBssid=a;return c};var Fh=function(a){this.f=a};u(Fh,Ch);Fh.prototype.i=function(a){var b=this.f.hotspot_bssid.toLowerCase();return a.ssid===this.f.name&&a.bssid.toLowerCase()===b};
Fh.prototype.h=function(a){return!(!this.f.sign||this.f.sign.nonce!==a)};
Fh.prototype.g=function(){var a=this.f,b={};if(!(a.public_key&&a.ssdp_udn&&a.name&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data&&a.hotspot_bssid))return null;b.certificate=a.sign.certificate;b.publicKey=a.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.hotspot_bssid;a.sign.intermediate_certs&&0<=ra(th,42)&&(b.intermediateCertificates=a.sign.intermediate_certs);return b};var Gh=function(a){this.f=a};
u(Gh,Ch);Gh.prototype.i=function(a){var b=this.f;if(!b.name||!b.device_info||!b.device_info.hotspot_bssid)return!1;var c=b.name;b.setup&&b.setup.ssid_suffix&&"c"!==b.setup.ssid_suffix&&(c+="."+b.setup.ssid_suffix);return a.ssid===c&&Tf(b.device_info.hotspot_bssid,a.bssid)};Gh.prototype.h=function(a){return!(!this.f.sign||this.f.sign.nonce!==a)};
Gh.prototype.g=function(){var a=this.f,b={};if(!(a.name&&a.device_info&&a.device_info.public_key&&a.device_info.ssdp_udn&&a.device_info.hotspot_bssid&&a.sign&&a.sign.certificate&&a.sign.nonce&&a.sign.signed_data))return null;b.certificate=a.sign.certificate;b.publicKey=a.device_info.public_key;b.nonce=a.sign.nonce;b.signedData=a.sign.signed_data;b.deviceSerial=a.device_info.ssdp_udn;b.deviceSsid=a.name;b.deviceBssid=a.device_info.hotspot_bssid;a.sign.intermediate_certs&&0<=ra(th,42)&&(b.intermediateCertificates=
a.sign.intermediate_certs);return b};var Hh=function(a,b,c){var d=b.read();this.f=d.eurekaInfoState&&d.eurekaInfoState.setupApiVersion||null;this.j=new Hd("http://"+d.deviceIpAddress+":8008");this.g=a;this.h=b;c?(a=qh(c),c=(c=rh(c))?"en"==a?a+"-"+c+", en;q=0.8":a+"-"+c+", "+a+";q=0.8, en;q=0.5":a+", en;q=0.5"):c=null;this.i=c},Ih=function(a){var b=new Df(a);return{read:function(){return b},write:function(a){b=a}}},Lh=function(a,b,c){var d=new Hh(a,b,c);return d.f?G(d):Jh(d,{options:Kh()}).then(function(){return d})},Nh=function(a,b,
c,d,e){var f=new Hh(a,b,e),g=b.read();if(g.eurekaInfoState&&g.eurekaInfoState.ethernetConnected)return G(f);if(g.verificationState){if(Tf(g.verificationState.verificationProperties.deviceBssid,d.bssid))return G(f);g=new Df(g.deviceIpAddress);b.write(g)}a={};var h=a.nonce=pa();a.options=Kh().concat(["name","sign","device_info.public_key","device_info.hotspot_bssid"]);return Jh(f,a).then(function(a){a:switch(a.version){case 3:a=Dh(new Eh(a),c,h,d);break a;case 4:case 5:case 6:a=Dh(new Fh(a),c,h,d);
break a;default:a=Dh(new Gh(a),c,h,d)}return a}).then(function(a){g=b.read();g.verificationState=a;b.write(g);return f},function(a){dh(a);if(a instanceof Og)throw a;throw new Mh;})},Oh=function(){x.call(this)};u(Oh,x);Oh.prototype.name="setupApiVersionError";var Mh=function(){x.call(this)};u(Mh,x);Mh.prototype.name="deviceVerificationError";var Kh=function(){return"version name setup.setup_state net.ethernet_connected net.ip_address device_info.ssdp_udn device_info.capabilities.display_supported setup.ssid_suffix setup.tos_accepted".split(" ")};
new B(["now","fdr","ota"]);Hh.prototype.m=new B([3,4,5,6,7]);
Hh.prototype.l=new A(3,function(a){y(a,"locale","en-US");return a},4,ff,5,ff,6,ff,7,function(a){if(a.device_info){var b=a.device_info;!b.hotspot_bssid&&b.mac_address&&(b.hotspot_bssid="00:1A:11:FF:"+b.mac_address.substr(b.mac_address.length-5));b.capabilities&&(b=b.capabilities,y(b,"display_supported",!0),y(b,"wifi_supported",!0),y(b,"wifi_regulatory_domain_locked",!1),y(b,"hotspot_supported",!0),y(b,"ble_supported",!1),y(b,"multizone_supported",!1))}a.net&&y(a.net,"ethernet_connected",!1);a.setup&&
y(a.setup,"tos_accepted",!0);a.settings&&(b=a.settings,y(b,"time_format",1),y(b,"locale","en-US"));return a});Hh.prototype.getState=function(){return this.h.read()};
var Ph=function(a){return a.h.read().eurekaInfoState},Jh=function(a,b){var c=a.j.clone();c.h="/setup/eureka_info";if(b){var d=[];if(b.options){var e=new B(b.options),f=e.contains("sign");if(null===a.f||7>a.f){for(var g=new B(["sign","detail"]),h=new B,g=dc(g),n=0;n<g.length;n++){var q=g[n];e.contains(q)&&fc(h,q)}h.w()&&d.push("options="+h.A().join(","))}e.w()&&(null===a.f||7<=a.f)&&d.push("params="+e.A().join(","))}b.nonce&&d.push("nonce="+b.nonce);d.length&&Kd(c,d.join("&"),void 0)}d=void 0;a.i&&
(d={"Accept-Language":a.i});return Qg(a.g,{url:c.toString(),method:"GET",headers:d,timeout:f?4E4:1E4,G:f?1:2}).then(a.o.bind(a)).then(a.s.bind(a))};Hh.prototype.o=function(a){if(!a.version)return a;if(!this.m.contains(a.version))throw new Oh;this.f=parseInt(a.version,10);return this.l.get(this.f,null)(a)};
Hh.prototype.s=function(a){var b={};this.f&&(b.setupApiVersion=this.f);3<=this.f&&6>=this.f?(b.name=a.name,b.displaySupported=!0,b.setupState=a.setup_state,b.ssdpUdn=a.ssdp_udn,3===this.f?(b.ethernetConnected=!1,b.tosAccepted=!0):(b.ethernetConnected=6===this.f?!!a.ethernet_connected:!1,b.tosAccepted=!!a.tos_accepted),a.ip_address&&(b.connectedIpAddress=a.ip_address),b.deviceType="c"):7<=this.f&&(a.name&&(b.name=a.name),a.device_info&&a.device_info.capabilities&&void 0!==a.device_info.capabilities.display_supported&&
(b.displaySupported=!!a.device_info.capabilities.display_supported),a.setup&&(void 0!==a.setup.setup_state&&(b.setupState=a.setup.setup_state),63===b.setupState?b.tosAccepted=!1:void 0!==a.setup.tos_accepted&&(b.tosAccepted=a.setup.tos_accepted),void 0!==a.setup.ssid_suffix&&(b.deviceType=a.setup.ssid_suffix||"c")),a.net&&(void 0!==a.net.ethernet_connected&&(b.ethernetConnected=a.net.ethernet_connected),a.net.ip_address&&(b.connectedIpAddress=a.net.ip_address),a.device_info&&a.device_info.ssdp_udn&&
(b.ssdpUdn=a.device_info.ssdp_udn)));var c=this.h.read();c.eurekaInfoState?Qb(c.eurekaInfoState,b):c.eurekaInfoState=b;this.h.write(c);return a};
var Rh=function(a){return Qg(a.g,{url:Qh(a,"/setup/offer"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},Sh=function(a,b){a.g.request({url:Qh(a,"/setup/reboot"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new sf(b)),timeout:1E4,G:2})},Th=function(a){var b=new vf;b.immediate=!0;return Qg(a.g,{url:Qh(a,"/setup/save_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),timeout:2E4,G:1}).then(function(a){var b=this.h.read();
b.eurekaInfoState&&b.eurekaInfoState.setupState!==a.setup_state&&(b.eurekaInfoState.setupState=a.setup_state,this.h.write(b));return a}.bind(a))},Uh=function(a){return Qg(a.g,{url:Qh(a,"/setup/scan_results"),method:"GET",timeout:1E4,G:5}).then(function(a){return a})},Vh=function(a){return a.g.request({url:Qh(a,"/setup/scan_wifi"),method:"POST",G:0})},Wh=function(a,b){return a.g.request({url:Qh(a,"/setup/set_eureka_info"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(b),
G:0})},Xh=function(a){return Qg(a.g,{url:Qh(a,"/setup/supported_locales"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},Yh=function(a){return Qg(a.g,{url:Qh(a,"/setup/supported_timezones"),method:"GET",timeout:1E4,G:2}).then(function(a){return a})},Qh=function(a,b){var c=a.j.clone();c.h=b;return c.toString()};var Zh=function(a,b){this.networks=new A;this.i=new T(this.Ua.bind(this),this.Ta.bind(this));this.g=a;this.j=[];for(var c=1,d=arguments.length;c<d;++c)this.j.push(arguments[c]);this.h=new B;this.l=this.cb.bind(this);this.m=this.eb.bind(this);this.f=new O},$h=function(a,b){M.call(this,a);this.f=b};u($h,M);var ai=function(){};ai.prototype.h=function(){return!0};ai.prototype.f=function(){return!0};var bi=function(a){this.g=a||null};u(bi,ai);
bi.prototype.h=function(a){return!(!a.WiFi||a.WiFi.Security&&"None"!==a.WiFi.Security)};bi.prototype.f=function(a){return this.g?!(!a.WiFi||a.WiFi.BSSID!==this.g):Vf(a)};k=Zh.prototype;k.start=function(){return this.i.start()};k.stop=function(){return this.i.stop()};k.Ua=function(){var a=this.g;a.onNetworkListChanged.addListener(this.l);a.onNetworksChanged.addListener(this.m);return U(this.i,this.g.getNetworks({networkType:"WiFi",visible:!0})).then(this.jb.bind(this))};
k.jb=function(a){return td(a.filter(function(a){if(ci(this,a))return!0;fc(this.h,a.GUID);return!1}.bind(this)).map(function(a){return this.ra(a.GUID)}.bind(this)))};k.Ta=function(){this.g.onNetworkListChanged.removeListener(this.l);this.g.onNetworksChanged.removeListener(this.m);this.networks.clear();this.h.clear();return G()};k.cb=function(a){var b=new B(this.networks.D());a=hc(new B(a),this.h);Yb(hc(a,b),this.ra.bind(this));Yb(hc(b,a),this.mb.bind(this))};
k.mb=function(a){var b=this.networks.get(a);this.networks.remove(a);a="Connected"===b.ConnectionState;b.ConnectionState="NotConnected";a&&di(this,"disconnected",b);di(this,"removed",b)};k.eb=function(a){a=hc(new B(a),this.h);Yb(a,this.ra.bind(this))};
k.ra=function(a){var b=I();J(ei(this,a).then(function(b){var d=this.networks.get(a),e=!(!d||"Connected"!==d.ConnectionState);this.networks.set(b.GUID,b);var f="Connected"===b.ConnectionState;d||di(this,"added",b);!e&&f?di(this,"connected",b):e&&!f&&di(this,"disconnected",b)}.bind(this)),function(){b.g()});return b.f};
var di=function(a,b,c){P(a.f,new $h(b,c))},ei=function(a,b){return K(U(a.i,a.g.getProperties(b)),function(a){throw a;}.bind(a)).then(function(a){if(!fi(this,a))throw fc(this.h,b),new L;return a}.bind(a))},ci=function(a,b){return!tb(a.j,function(a){return!a.h(b)})},fi=function(a,b){return!tb(a.j,function(a){return!a.f(b)})};var gi=function(a){this.g=a;this.f=null},hi=new A(1,2E4,3,6E4,2,6E4),ji=function(a,b){var c=Nf(a).filter(ii);c.push(b);Of(a,c)},ii=function(a){var b=hi.get(a.type,Infinity);return ma()-a.time<b},ki=function(a){this.g=a};u(ki,ai);ki.prototype.f=function(a){return!li(this.g,a.WiFi&&a.WiFi.BSSID,2)};
var mi=function(a){a.f=new A;for(var b=Nf(a.g),c=[],d=0,e=b.length;d<e;++d){var f=b[d];if(ii(f)){c.push(f);cc(a.f,f.type)||a.f.set(f.type,new A);var g=a.f.get(f.type);g&&g.get(f.deviceId,-Infinity)<f.time&&g.set(f.deviceId,f.time)}}c.length!==b.length&&Of(a.g,c)},li=function(a,b,c){a.f||mi(a);a=a.f.get(c,null);if(null===a||!cc(a,b))return!1;b=a.get(b)+hi.get(c,0);return ma()<b};var ni=function(a,b,c){this.i=a;this.s=b;this.g=new O;this.h=0;this.l=[];this.o=0;this.f={};this.B=[];this.m=this.u.bind(this);this.v=this.K.bind(this);this.j=new T(this.N.bind(this),this.L.bind(this));this.J=c},oi=function(a,b,c,d,e,f){this.name=a;this.ipAddress=b;this.M=c;this.ethernetConnected=d;this.tosAccepted=e;this.deviceType=f},pi=function(a){M.call(this,"deviceListUpdated");this.devices=a};u(pi,M);ni.prototype.start=function(){return this.j.start()};ni.prototype.stop=function(){return this.j.stop()};
var qi=function(a){if(0<=ra(th,49))try{var b=chrome.extension.getBackgroundPage().backgroundSetup;b.stopDialService.call(b);a.i.onDeviceList.removeListener(a.m);a.i.onDeviceList.addListener(a.m);b.startDialService.call(b)}catch(c){}},ri=function(a){qi(a);K(a.i.discoverNow(),function(){})};ni.prototype.N=function(){this.i.onDeviceList.addListener(this.m);this.i.onError.addListener(this.v);ri(this);return G()};
ni.prototype.L=function(){this.i.onDeviceList.removeListener(this.m);this.i.onError.removeListener(this.v);Kb(this.f,function(a){a.O&&clearTimeout(a.O)});this.f={};return G()};ni.prototype.u=function(a){this.h++;a=a.filter(function(a){var c=null;try{c=Ud(a.deviceDescriptionUrl).f}catch(d){}!(a=!c)&&(a=null!==Uc(c))&&(a=this.J,a=li(a,c,1)||li(a,c,3));return!a}.bind(this));this.o=a.length;this.l=[];0==a.length?si(this):sb(a,this.S,this);this.B=[]};ni.prototype.K=function(){this.u([])};
var si=function(a){0<a.o||(Hb(a.l,function(a,c){return oa(a.name,c.name)}),P(a.g,new pi(a.l)))},ui=function(a,b,c,d){var e=a.f[c];if(e&&!(e.oa>b))if(0<=qb(a.B,d.M))ti(a,b,c);else{if(b=a.f[c])b.O&&clearTimeout(b.O),b.O=setTimeout(r(a.R,a,c),3E5);e.description=d;e.status=1;e.ja==a.h&&(--a.o,a.l.push(d),si(a))}},ti=function(a,b,c){var d=a.f[c];if(d&&!(d.oa>b)){if(b=a.f[c])b.O&&clearTimeout(b.O),b=a.f,c in b&&delete b[c];d.ja==a.h&&(--a.o,si(a))}};
ni.prototype.R=function(a){var b=this.f[a];b&&(b.O=null,1==b.status&&(b=this.f,a in b&&delete b[a]))};
ni.prototype.S=function(a){var b=vi(this,a);if(1==b.status)ui(this,this.h,a.deviceLabel,b.description);else if(2!=b.status){b.status=2;var c=b.oa=this.h,d=a.deviceLabel,e=this;K(U(this.j,this.s.request({url:a.deviceDescriptionUrl})).then(function(a){return(a=Xf(a.ca()))&&a.kb?U(e.j,Lh(e.s,Ih(a.ipAddress))):H()}).then(function(a){a=a.getState();if(!(a.deviceIpAddress&&a.eurekaInfoState&&a.eurekaInfoState.name&&a.eurekaInfoState.ssdpUdn&&void 0!==a.eurekaInfoState.ethernetConnected&&void 0!==a.eurekaInfoState.tosAccepted&&
a.eurekaInfoState.deviceType))return H();ui(e,c,d,new oi(a.eurekaInfoState.name,a.deviceIpAddress,a.eurekaInfoState.ssdpUdn,a.eurekaInfoState.ethernetConnected,a.eurekaInfoState.tosAccepted,a.eurekaInfoState.deviceType))}),function(){ti(e,c,d)})}};var vi=function(a,b){a.f[b.deviceLabel]||(a.f[b.deviceLabel]={status:3,configId:b.configId,oa:a.h,ja:a.h,O:null,description:null});var c=a.f[b.deviceLabel];c.ja=a.h;b.configId&&c.configId==b.configId||(c.configId=b.configId,c.status=3);return c};var wi=function(a,b,c,d,e){this.h=new gi(d);this.f=new Zh(a,new bi,new ki(this.h));this.g=new ni(b,c,this.h);this.l=e;this.j=new mh(this.l,3E5);this.s=a;this.o=b;this.i=new T(function(){return td([this.f.start(),this.g.start()]).then(this.m.bind(this))}.bind(this),function(){this.j=new mh(this.l,3E5);return td([this.f.stop(),this.g.stop()])}.bind(this))};wi.prototype.start=function(){return this.i.start()};wi.prototype.stop=function(){return this.i.stop()};
wi.prototype.m=function(){mi(this.h);this.s.requestNetworkScan();K(this.o.discoverNow(),function(){});U(this.i,R(this.j.g)).then(this.m.bind(this));nh(this.j)};var xi=function(a){this.h=a;this.f=new A;this.j=new B;this.i=[];this.g=new wi(a.m,a.l,a.j,a.h,5E3);this.v=a.i.getItem("showDeviceBanner");this.o=new T(this.Oa.bind(this),this.Na.bind(this));this.s=this.gb.bind(this);this.u=this.hb.bind(this);this.l=this.Ma.bind(this);this.m=this.B.bind(this)},Eb=function(a,b){if(a.id===b.id)return 0;if(a.needsSetup!==b.needsSetup)return a.needsSetup?-1:1;var c=oa(a.displayName,b.displayName);return 0!==c?c:a.id<b.id?-1:a.id>b.id?1:0},yi=function(a,b,c){this.P=a;this.deviceDescription=
b;this.ma=c};k=xi.prototype;k.start=function(){return this.o.start()};k.stop=function(){return this.o.stop()};k.Oa=function(){zi(this);this.g.f.f.listen("added",this.s);this.g.f.f.listen("removed",this.u);this.g.g.g.listen("deviceListUpdated",this.l);V(this.h.f).addListener("Devices.UserAction",this.m);return this.g.start()};
k.Na=function(){this.g.f.f.C("added",this.s);this.g.f.f.C("removed",this.u);this.g.g.g.C("deviceListUpdated",this.l);V(this.h.f).removeListener("Devices.UserAction",this.m);this.f=new A;this.i=[];this.j=new B;return this.g.stop()};k.gb=function(a){var b="wifi:"+a.f.GUID,c=Wf(a.f.WiFi.SSID),c=new ab(b,Rf[c.type]||3,c.name);c.needsSetup=!0;this.f.set(b,new yi(c,null,a.f.WiFi));Ib(this.i,c);zi(this)};k.hb=function(a){a="wifi:"+a.f.GUID;var b=this.f.get(a).P;Jb(this.i,b);this.f.remove(a);zi(this)};
k.Ma=function(a){var b=new A;a.devices.forEach(function(a){b.set(a.ipAddress,a)});a=new B(b.D());var c=hc(this.j,a);this.j=a;var d=0!==c.w();Yb(c,function(a){a="ip:"+a;var b=this.f.get(a);this.f.remove(a);Jb(this.i,b.P)}.bind(this));var e;Yb(b,function(a){var b="ip:"+a.ipAddress;if(cc(this.f,b)){var c=a.ethernetConnected&&!a.tosAccepted,n=Rf[a.deviceType]||3,q=this.f.get(b);q.deviceDescription=a;var N=q.P;n===N.type&&a.name===N.displayName&&c===N.needsSetup?a=!1:(q.P=new ab(b,n,a.name),q.P.needsSetup=
c,Jb(this.i,N),Ib(this.i,q.P),a=!0);a&&(d=!0)}else c=new ab(b,Rf[a.deviceType]||3,a.name),c.needsSetup=a.ethernetConnected&&!a.tosAccepted,this.f.set(b,new yi(c,a,null)),Ib(this.i,c),d=!0,this.v&&a.ipAddress===this.v&&(e=a.name,this.h.i.removeItem("showDeviceBanner"))}.bind(this));d&&zi(this,e)};var zi=function(a,b){V(a.h.f).sendMessage(new bb(a.i,b))};
xi.prototype.B=function(a){var b=this.f.get(a.device.id);switch(a.action){case 1:a=new Af(pa());a.states=new Gf(0,[new Q(1)]);a.commonState=new Bf;var c={name:b.P.displayName,type:Yf(b.P.type)};b.ma?(c.ssid=b.ma.SSID,c.bssid=b.ma.BSSID):c.ipAddress=b.deviceDescription.ipAddress;a.commonState.device=new Cf(c);a.commonState.pinned=!0;Lf(this.h.h,a);this.h.i.setItem("setupSessionId",a.id);this.h.s();break;case 2:this.h.o(b.deviceDescription.ipAddress)}};var Ai=function(a,b){this.g=a;this.m=b;this.h=null;this.o=Ih(b);this.j=this.f=null;this.i=new T(this.Qa.bind(this),this.Pa.bind(this));this.l=new A("DeviceSettings.Apply",this.Ka.bind(this),"DeviceSettings.Reboot",this.B.bind(this),"DeviceSettings.FactoryReset",this.u.bind(this),"DeviceSettings.ForgetWiFi",this.v.bind(this),"DeviceSettings.Exit",this.s.bind(this))};k=Ai.prototype;k.start=function(){return this.i.start()};k.stop=function(){return this.i.stop()};
k.Qa=function(){return U(this.i,Lh(this.g.j,this.o)).then(function(a){this.h=a;return td([U(this.i,Jh(a,{options:"build_info.cast_build_revision device_info.mac_address detail net.ip_address settings.country_code settings.locale settings.timezone settings.time_format opt_in.stats wifi.ssid wifi.wpa_id".split(" ")})),U(this.i,Xh(a)),U(this.i,Yh(a))])}.bind(this)).then(function(a){this.ib.apply(this,a);var b=V(this.g.f);this.l.forEach(function(a,d){b.addListener(d,a)});Bi(this,1)}.bind(this))};
k.Pa=function(){var a=V(this.g.f);this.l.forEach(function(b,c){a.removeListener(c,b)});this.h=null;this.o=Ih(this.m);this.f=null;return G()};
k.ib=function(a,b,c){var d=Ph(this.h),e=d.setupApiVersion,f=Rf[d.deviceType]||3;c=c.map(function(a){return new fb(a.timezone,a.display_string,a.offset)});b=b.map(function(a){return new eb(a.locale,a.display_string)});var g=this.f={};if(7<=e){var e=a.wifi,h=a.settings,n=a.opt_in,q=a.build_info,N=a.device_info;a=a.net;g.deviceType=f;g.name=d.name;g.ssid=!d.ethernetConnected&&e.ssid||null;g.timeZoneId=h.timezone||null;g.supportedTimeZones=c;g.timeFormat=1===h.time_format?1:2;g.localeId=h.locale||"";
g.supportedLocales=b;g.statsOptIn=!!n.stats;g.firmwareVersion=q.cast_build_revision||"";g.countryCode=h.country_code||null;g.macAddress=N.mac_address||"";g.ipAddress=a.ip_address;this.j=void 0!==e.wpa_id?e.wpa_id:null}else h=1===(3<e?a.time_format:2)?1:2,g.deviceType=f,g.name=d.name,g.ssid=!d.ethernetConnected&&a.ssid||null,g.timeZoneId=a.timezone||null,g.supportedTimeZones=c,g.timeFormat=h,g.localeId=a.locale,g.supportedLocales=b,g.statsOptIn=!!(3<e&&a.opt_in&&a.opt_in.stats),g.firmwareVersion=a.build_version,
g.countryCode=3<e&&a.location&&a.location.country_code||null,g.macAddress=a.mac_address,g.ipAddress=a.ip_address,this.j=void 0!==a.wpa_id?a.wpa_id:null};
k.Ka=function(a){var b=this;if(a.name===b.f.name&&a.timeZoneId===b.f.timeZoneId&&a.timeFormat===b.f.timeFormat&&a.localeId===b.f.localeId&&a.statsOptIn===b.f.statsOptIn)Bi(b,1);else{var c=Ob(b.f);b.f.name=a.name;b.f.timeZoneId=a.timeZoneId;b.f.timeFormat=a.timeFormat;b.f.localeId=a.localeId;b.f.statsOptIn=a.statsOptIn;Bi(b,2);K(U(b.i,Wh(b.h,Ci(b,a))).then(function(){b.f.localeId!==c.localeId?b.g.reload():Bi(b,1)}),function(){b.f=c;Bi(b,3)})}};
var Ci=function(a,b){var c=a.h.f,d=1===b.timeFormat?1:2;if(7<=c)return c=new zf,c.name=b.name,c.settings=new of,b.timeZoneId&&(c.settings.timezone=b.timeZoneId),c.settings.time_format=d,c.settings.locale=b.localeId,c.opt_in=new pf,c.opt_in.stats=b.statsOptIn,c;if(4<=c&&6>=c)return c=new yf,c.name=b.name,b.timeZoneId&&(c.timezone=b.timeZoneId),c.time_format=d,c.locale=b.localeId,c.opt_in=new hf,c.opt_in.stats=b.statsOptIn,c;d=new xf;d.name=b.name;b.timeZoneId&&(d.timezone=b.timeZoneId);d.locale=b.localeId;
return d},Bi=function(a,b){V(a.g.f).sendMessage(new gb(b,a.f))};Ai.prototype.B=function(){Sh(this.h,"now");var a=this.h.h.read().deviceIpAddress;ji(this.g.h,new Hf(1,ma(),a));this.g.g()};Ai.prototype.u=function(){Sh(this.h,"fdr");var a=this.h.h.read().deviceIpAddress;ji(this.g.h,new Hf(3,ma(),a));this.g.g()};
Ai.prototype.v=function(){var a=this.h,b=this.j;a.g.request({url:Qh(a,"/setup/forget_wifi"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new qf(b)),timeout:1E4,G:2});this.g.g()};Ai.prototype.s=function(){this.g.g()};var Di=!1;var Ei=chrome.i18n.getMessage("3254351313955764967"),Fi=chrome.i18n.getMessage("3485206350043289145");var Gi=function(){this.f={};this.g={};this.h=new B};Gi.prototype.sendMessage=function(a){a.responseTo?this.h.contains(a.responseTo)&&(this.h.remove(a.responseTo),Hi(this,a)):Hi(this,a)};Gi.prototype.sendRequest=function(a,b){var c=I();this.f[a.requestId]={T:c,Ha:b?setTimeout(r(this.l,this,a.requestId),b):null};Hi(this,a);return c.f};Gi.prototype.l=function(a){a in this.f&&(this.f[a].T.f.cancel(),delete this.f[a])};
Gi.prototype.addListener=function(a,b){var c=this.g[a];c||(c=this.g[a]=new B);fc(c,b)};var Ii=function(a,b){var c=I(),d=r(function(a){c.g(a)},a);a.addListener(b,d);return J(c.f,function(){this.removeListener(b,d)}.bind(a))};Gi.prototype.removeListener=function(a,b){var c=this.g[a];c&&c.remove(b)};
var Ji=function(a,b){if(b.requestId)fc(a.h,b.requestId);else if(b.responseTo){var c=a.f[b.responseTo];c&&(delete a.f[b.responseTo],null!==c.Ha&&clearTimeout(c.Ha),b instanceof ta?c.T.h(b):c.T.g(b))}var d=a.g[b.type];d&&d.A().forEach(function(a){d.contains(a)&&a(b)})};var Ki=function(a,b,c,d){Gi.call(this);this.i="object"===typeof b?b:null;this.m="function"===typeof b?b:null;this.j=c;this.s=d||ba;a.addEventListener("message",this.o.bind(this))};u(Ki,Gi);Ki.prototype.o=function(a){a.origin===this.j?Ji(this,a.data):this.s()};var Hi=function(a,b){a.i=a.i||a.m();a.i.postMessage(b,a.j)};var Li=function(a,b,c,d){this.h=new O;this.j=new T(c,d);this.g=a;this.o=b+"/v3";this.m=b},Mi=function(){M.call(this,"redirect")};u(Mi,M);Li.prototype.start=function(){return this.j.start().then(this.ha.bind(this))};Li.prototype.stop=function(){return this.j.stop()};var Ni=function(a,b){Li.call(this,a,b,this.Sa.bind(this),this.Ra.bind(this));this.i=this.f=null;this.l=[["newwindow",this.fb.bind(this)],["loadredirect",this.bb.bind(this)]]};u(Ni,Li);var Oi=["exit","loadabort","unresponsive"];k=Ni.prototype;
k.ha=function(){return this.i};
k.Sa=function(){var a=this,b=I(),c=b.h.bind(b),d=a.g.document.querySelector("#cast-app-ui");d||(d=a.g.document.createElement("webview"),d.setAttribute("id","cast-app-ui"),d.setAttribute("src",a.o));Oi.forEach(function(a){d.addEventListener(a,c)});var e=function(){var c=d.contentWindow;a.f=d;a.i=new Ki(a.g,c,a.m,function(){P(a.h,new M("originViolation"))});b.g()};d.addEventListener("contentload",e);J(b.f,function(){Oi.forEach(function(a){d.removeEventListener(a,c)});d.removeEventListener("contentload",
e)});a.l.forEach(function(a){d.addEventListener.apply(d,a)});d.parentElement||a.g.document.body.appendChild(d);a.f=d;return b.f};k.Ra=function(){this.i=null;if(this.f&&this.f.parentElement){var a=this.f;this.f=null;a.parentElement.removeChild(a);this.l.forEach(function(b){a.removeEventListener.apply(a,b)})}return G()};k.bb=function(){P(this.h,new Mi)};
k.fb=function(a){var b=a.windowOpenDisposition,c=Ud(a.targetUrl),d=c.i,e=c.f;("https"===d&&("www.google.com"===e||"support.google.com"===e||"chromecast.com"===e)||"http"===d&&Uc(e)&&8008===c.l&&"/setup/NOTICE.html.gz"===c.h)&&"new_foreground_tab"===b&&this.g.open(a.targetUrl);a.window.discard()};var Pi=function(a,b){this.i=a;this.h=b;this.f=new O;this.g=new T(this.l.bind(this),this.j.bind(this))};Pi.prototype.start=function(){return this.g.start()};var Qi=function(a,b){var c=a.i.document&&a.i.document.body||null;c&&c.setAttribute("class",b)},V=function(a){return a.h.ha()};
Pi.prototype.l=function(){var a=I();Qi(this,"start");Ri(this);var b=U(this.g,R(18E4)).then(function(){Qi(this,"load-failed");P(this.f,"loadTimedOut");a.h(new bh)}.bind(this));U(this.g,this.h.start()).then(function(){var a=this.h.ha();U(this.g,Ii(a,"OfflineUiReady")).then(function(){P(this.f,"offlineUiReady")}.bind(this));P(this.f,"waitingForHandshake");return U(this.g,a.sendRequest(new va))}.bind(this)).then(function(c){switch(c.type){case "Handshake.Response":Qi(this,"hosting-embedded-ui");P(this.f,
"embeddedUiReady");b.cancel();a.g();break;case "Handshake.UiVersionNotSupported":Qi(this,"update-required");P(this.f,"updateRequired");a.h(c);break;default:Qi(this,"load-failed"),P(this.f,"loadFailed")}}.bind(this));return a.f};var Ri=function(a){var b=a.i.document;[["#load-failed-message",Ei],["#update-required-message",Fi]].forEach(function(a){var d=b.querySelector(a[0]);d&&(d.textContent=a[1])})};Pi.prototype.j=function(){return this.h.stop()};var Si=function(a,b){var c=window,d=new Rg;this.g=a;this.h=b;this.f=d;this.i=c.localStorage},Ti=function(a,b,c){this.m=a;this.s=b;this.v=m(c)?c:3E4;this.g=new A;this.l=!0;this.i=!1;this.f=new B;this.u=new gi(a.i);this.j=new ni(a.h,a.f,this.u);this.h=new T(this.Xa.bind(this),this.Wa.bind(this));this.o=this.Va.bind(this)};k=Ti.prototype;k.start=function(){return this.h.start()};k.stop=function(){if(!this.i){var a=new ob(this.s,this.g.A(),!0);V(this.m.g).sendMessage(a);this.i=!0}return this.h.stop()};
k.Xa=function(){this.j.g.listen("deviceListUpdated",this.o);U(this.h,R(this.v)).then(function(){this.l=!1;this.Ga()}.bind(this));return this.j.start()};k.Wa=function(){this.j.g.C("deviceListUpdated",this.o);this.g=new A;this.l=!0;this.i=!1;this.f=new B;return this.j.stop()};k.Va=function(a){a.devices.forEach(this.ab.bind(this))};
k.ab=function(a){var b=this;cc(b.g,a.M)||b.f.contains(a.M)||(fc(b.f,a.M),J(Lh(b.m.f,Ih(a.ipAddress)).then(function(a){if(7>a.f)throw new L;return U(b.h,Rh(a))}).then(function(c){b.g.set(a.M,new nb(c.token,a.name,Rf[a.deviceType]||3,a.M));b.f.remove(a.M);b.i||(c=new ob(b.s,b.g.A(),!b.l&&0===b.f.w()),b.i=c.scanComplete,V(b.m.g).sendMessage(c))},function(){b.f.remove(a.M)}),b.Ga.bind(b)))};k.Ga=function(){this.l||0!==this.f.w()||this.stop()};var W=function(a,b,c){this.g=new T(b||function(){return G()},c||void 0);this.f=a};W.prototype.start=function(){return this.g.start()};W.prototype.stop=function(){return this.g.stop()};var X=function(a){return V(a.f.m)};var Vi=function(a,b,c,d,e){var f=Ui,g=jh,h=window.location.reload.bind(window.location),n=chrome.i18n.getUILanguage;this.window=a;this.j=b;this.o=c;this.i=d;this.f=a.localStorage;this.g=a.sessionStorage;this.h=e;this.s=f;this.m=g;this.u=h;this.l=n};var Wi=function(a,b,c){this.i=new T(this.u.bind(this),this.s.bind(this));this.f=a;this.m=b;this.g=c;this.h=null;this.l=new O;V(b).addListener("RestartSetup",this.v.bind(this));V(b).addListener("GoToDeviceList",this.f.m.bind(this.f))},Xi=function(a){M.call(this,"newState");this.state=a};u(Xi,M);Wi.prototype.start=function(){return this.i.start()};Wi.prototype.stop=function(){return this.i.stop()};
var Zi=function(a,b){Yi(a,147,null,null);a.f.g.setItem("showDeviceBanner",b);If(a.f.g);Mf(a.f.f,a.g);J(a.stop(),function(){this.f.m()}.bind(a))},$i=function(a){If(a.f.g);Mf(a.f.f,a.g);a.f.m()},aj=function(a){var b={read:function(){return a.g.setupApiClientState||null},write:a.j.bind(a)};return Lh(a.f.i,b,a.f.l())};Wi.prototype.j=function(a){a?this.g.setupApiClientState=a:delete this.g.setupApiClientState;Lf(this.f.f,this.g)};
var Y=function(a){return a.g.commonState||new Bf},bj=function(a,b){b?a.g.commonState=b:delete a.g.commonState;Lf(a.f.f,a.g)},Z=function(a,b){a.h.stop().then(function(){if(a.g.states){var c=a.g.states;c.all=c.all.slice(0,c.current+1);c.all.push(b);c.current=c.all.length-1}else a.g.states=new Gf(0,[b]);Lf(a.f.f,a.g);a.h=a.f.s(a,b.type);P(a.l,new Xi(b.type));K(U(a.i,a.h.start()),function(){a.o()})})};
Wi.prototype.o=function(){If(this.f.g);Mf(this.f.f,this.g);V(this.m).sendMessage(new v("ShowGenericSetupError"));K(this.stop(),ba)};var Yi=function(a,b,c,d){var e=new Tg;3<e.g?e.f[2]=1:e.h[3]=1;var f=Y(a).device.type;5<e.g?e.f[4]=f:e.h[5]=f;a.f.h.g(a.g.id,e,b,c,d)};
Wi.prototype.u=function(){var a=this.g.states.all[this.g.states.current].type;this.h=this.f.s(this,a);P(this.l,new Xi(a));a=Y(this);a.country||a.connectedHotSpotBssid||U(this.i,V(this.m).sendRequest(new jb)).then(function(a){var c=Y(this);c.country||(c.country=a.countryCode,bj(this,c))}.bind(this));return this.h.start()};Wi.prototype.s=function(){var a=this.h;this.h=null;P(this.l,new Xi(null));return a.stop()};Wi.prototype.v=function(){If(this.f.g);Mf(this.f.f,this.g);this.f.u()};var cj=function(a,b){this.g=a;this.m=new O;this.i=this.j=null;this.s=new Pi(a.window,b);this.s.f.listen("waitingForHandshake",function(){"waitingForHandshake"!==this.j&&(this.j="waitingForHandshake",P(this.m,"waitingForHandshake"))}.bind(this));this.o=new T(this.v.bind(this),this.u.bind(this));this.f=this.h=null;this.l=[]};cj.prototype.start=function(){return this.o.start().then(function(){return this.i}.bind(this))};
cj.prototype.v=function(){var a=this,b=I();U(a.o,a.s.start()).then(function(){a.f||(a.h=pa(),a.f=new Af(a.h),a.f.states=new Gf(0,[new Q(1)]),a.g.g.setItem("setupSessionId",a.h),Lf(a.g.f,a.f));dj(a)},function(a){b.h(a)});a.h=a.g.g.getItem("setupSessionId");a.l=Jf(a.g.f);a.f=tb(a.l,function(b){return b.id===a.h});ch(a.m,"done").then(function(){b.g()});return b.f};
cj.prototype.u=function(){this.h=this.g.f.getItem("setupSessionId");this.f=null;this.l=[];if(!this.i)return G();var a=this.i;this.i=null;return a.stop()};var dj=function(a){var b=new Wi(a.g,a.s,a.f);U(a.o,b.start()).then(function(){this.i=b;"done"!==this.j&&(this.j="done",P(this.m,"done"))}.bind(a))};var ej=function(a){W.call(this,a,this.s.bind(this),this.o.bind(this));this.h=this.i=null;this.j=this.m.bind(this);this.u=this.l.bind(this)};u(ej,W);ej.prototype.s=function(){return U(this.g,aj(this.f)).then(function(a){this.i=a;X(this).addListener("AudioConfirmation.UserAction",this.j);X(this).sendMessage(new Pa(1));this.h=3;this.l()}.bind(this))};ej.prototype.o=function(){this.h=this.i=null;X(this).removeListener("AudioConfirmation.UserAction",this.j);return G()};
ej.prototype.l=function(){if(null!==this.h){var a=this.g,b;b=this.i;var c=this.h;b=b.g.request({url:Qh(b,"/setup/play_sound"),method:"POST",headers:{"Content-Type":"application/json"},content:JSON.stringify(new rf(c)),timeout:1E4,G:2});U(a,b);this.h=3;U(this.g,R(1===this.h?3E3:1900)).then(this.u)}};ej.prototype.m=function(a){var b=null;switch(a.action){case 1:this.h=1;b=2;break;case 2:Z(this.f,new Q(5));break;case 3:b=3;break;case 4:$i(this.f)}b&&X(this).sendMessage(new Pa(b))};var fj=function(a){W.call(this,a,this.h.bind(this),null)};u(fj,W);fj.prototype.h=function(){var a=this;U(this.g,X(this).sendRequest(new Ma((this.f.g.setupApiClientState||null).verificationState.pin))).then(function(b){b.confirmed?Z(a.f,new Q(5)):U(a.g,X(a).sendRequest(new Aa(1))).then(function(){$i(a.f)})});return G()};var gj=function(a){W.call(this,a,this.u.bind(this),this.s.bind(this));this.i=null;this.m=0;this.j=this.h=null};u(gj,W);gj.prototype.u=function(){return U(this.g,aj(this.f)).then(function(a){this.i=a;X(this).sendMessage(ag(Y(this.f).connectWiFi));hj(this,0);this.l()}.bind(this))};gj.prototype.s=function(){this.i=null;return G()};
var hj=function(a,b){K(U(a.g,R(b)).then(function(){++a.m;return U(a.g,Jh(a.i,{options:["version","setup.setup_state","net.ip_address"]}))}).then(a.o.bind(a)).then(a.l.bind(a)),function(a){dh(a)}).then(function(){hj(a,5E3)})};gj.prototype.o=function(){var a=Ph(this.i),b=a.setupState;if(b!==this.j)switch(this.j=b,b){case 31:return ij(this,2),H(new L);case 21:case 41:case 10:case 11:return ij(this,1),H(new L);case 60:case 61:case 51:return jj(this,a),H(new L)}};
var jj=function(a,b){a.h&&a.h.cancel();J(J(K(U(a.g,a.f.f.h.f()).then(function(a){a=bg(b.setupApiVersion,Y(this.f).deviceName,3!==a);return U(this.g,Wh(this.i,a))}.bind(a)),function(a){dh(a)}),function(){var a=Y(this.f),d=a.connectedHotSpotBssid;ji(this.f.f.f,new Hf(2,ma(),d));delete a.connectedHotSpotBssid;bj(this.f,a);if(60!==b.setupState&&4<=b.setupApiVersion)return Yi(this.f,46,0,1),K(U(this.g,Th(this.i)),ba)}.bind(a)),function(){Z(this.f,new Q(8))}.bind(a))},ij=function(a,b){a.h&&a.h.cancel();
var c=Y(a.f);c.connectWiFi.g=b;bj(a.f,c);Z(a.f,new Q(6))};gj.prototype.l=function(){this.h&&this.h.cancel();this.h=U(this.g,R(6E4)).then(this.v.bind(this))};gj.prototype.v=function(){this.stop();X(this).sendMessage(new v("ShowGenericSetupError"))};var kj="AD AE AF AG AI AL AM AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BQ BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CW CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR SS ST SV SX SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW".split(" ");var lj=function(a){W.call(this,a,this.l.bind(this),null);this.i=!1;this.h=null};u(lj,W);lj.prototype.l=function(){var a=Y(this.f);this.i=!!a.device.ipAddress;var b=(this.f.g.setupApiClientState||null).eurekaInfoState,c=a.deviceName||b.name,b=3===b.setupApiVersion;this.i||b||a.country?a=null:(a=this.f.f.l(),a=(b=rh(a))&&-1!==kj.indexOf(b)?b:(a=qh(a).toUpperCase())&&-1!==kj.indexOf(a)?a:"US");this.h=a;K(U(this.g,X(this).sendRequest(new Sa(c,this.h))).then(this.j.bind(this)),this.f.o.bind(this.f));return G()};
lj.prototype.j=function(a){var b=this,c=Y(b.f);c.deviceName=a.name;b.h&&a.country&&(c.country=a.country);bj(b.f,c);if(b.i){var d=null;return td([U(b.g,aj(b.f)),b.f.f.h.f()]).then(function(a){d=a[0];a=a[1];var f=[];7<=d.f&&f.push(U(b.g,d.g.request({url:Qh(d,"/setup/accept_tos"),method:"POST",timeout:1E4,G:2})));f.push(U(b.g,Wh(d,bg(d.f,c.deviceName,3!==a))));return td(f)}).then(function(){return U(b.g,Jh(d,{options:["setup.setup_state"]}))}).then(function(){switch(Ph(d).setupState){case 60:Zi(b.f,
d.h.read().deviceIpAddress);break;case 62:Z(b.f,new Q(10));break;default:return H()}})}Z(b.f,new Q(6))};var mj=function(a){W.call(this,a,this.h.bind(this),null)};u(mj,W);mj.prototype.h=function(){var a=this,b=null;return td([U(this.g,aj(this.f)),this.f.f.h.f()]).then(function(c){b=c[0];c=bg(b.f,Y(a.f).deviceName,3!==c[1]);c=[U(a.g,Wh(b,c))];4<=b.f&&c.push(U(a.g,Th(b)));return td(c)}).then(function(){return U(a.g,Jh(b,{options:["setup.setup_state"]}))}).then(function(){switch(Ph(b).setupState){case 60:case 52:Zi(a.f,b.h.read().deviceIpAddress);break;case 62:Z(a.f,new Q(10));break;default:return H()}})};var nj=function(a,b,c){W.call(this,a,this.S.bind(this),this.u.bind(this));this.i=1;this.j=new Zg;this.K=c;this.L=b;this.m=null;this.N="false"===a.f.f.getItem("setupAutoNetworkSwitching")?!1:!0;this.l=null;this.v=this.R.bind(this);this.o=this.s.bind(this)};u(nj,W);
nj.prototype.S=function(){var a=this;oj(a,1);a.l=new Zh(this.f.f.j);var b=a.l.f;b.listen("connected",a.da,!0,a);b.listen("added",a.B,!0,a);b=X(a);b.addListener("WiFiSwitching.Proceed",a.v);b.addListener("WiFiSwitching.RetryConnection",a.o);b.addListener("WiFiConfig.Retry",a.o);return U(a.g,a.l.start()).then(function(){var b=a.l.networks;(b=a.m&&b.get(a.m)||null)?"Connected"===b.ConnectionState?a.s():a.N?(oj(a,2),a.qa(),$g(a.j,R(25E3)).then(a.J.bind(a)),a.f.f.j.startConnect(a.m)):a.J():(oj(a,10),a.f.o())})};
nj.prototype.u=function(){this.i=1;this.m=null;var a=this.j;this.j=new Zg;var a=[ah(a)],b=this.l;this.l=null;if(b){var c=b.f;c.C("connected",this.da,!0,this);c.listen("added",this.B,!0,this);a.push(b.stop())}b=X(this);b.removeListener("WiFiSwitching.Proceed",this.v);b.removeListener("WiFiSwitching.RetryConnection",this.o);b.removeListener("WiFiConfig.Retry",this.o);return td(a)};nj.prototype.da=function(a){pj(this,a)&&(2!==this.i&&6!==this.i||this.s())};
nj.prototype.B=function(a){pj(this,a)&&1===this.i&&(this.m=a.f.GUID)};var pj=function(a,b){var c=b.f.WiFi;return a.K&&!Tf(c.BSSID,a.K)||a.L&&c.SSID!==a.L?!1:!0};nj.prototype.J=function(){oj(this,5);this.V(1)};nj.prototype.R=function(){var a=this;oj(a,6);a.V(2);var b=a.l.networks.get(this.m);b&&"Connected"===b.ConnectionState?a.s():$g(a.j,R(1E4)).then(function(){oj(a,7);a.V(3)})};
var qj=function(a){var b=I();$g(a.j,b.f);var c=null,d=function(e){c=R(e).then(a.wa.bind(a)).then(function(a){b.g(a)},function(a){a instanceof Og?d(2E3):b.h(a)})};J(b.f,function(){if(c){var a=c;c=null;a.cancel()}});d(0);return b.f};nj.prototype.s=function(){var a=this;6===a.i||9===a.i?(oj(a,8),this.V(2)):(oj(a,3),this.qa());var b=qj(a).then(function(b){oj(a,10);a.xa(b)},function(){8===a.i?(oj(a,9),a.V(4)):(oj(a,4),a.Fa())});$g(a.j,R(12E4)).then(function(){b.cancel()})};
var oj=function(a,b){if(b!==a.i){a.i=b;var c=a.j;a.j=new Zg;ah(c)}};var rj=function(a){this.h=Y(a).device;nj.call(this,a,null,this.h.bssid)};u(rj,nj);k=rj.prototype;k.da=function(a){var b=a.f.WiFi,c=null;Tf(b.BSSID,this.h.bssid)?(c=Y(this.f),c.connectedHotSpotBssid=b.BSSID):Vf(a.f)||(c=Y(this.f),c.originalWiFiNetwork={ssid:b.SSID,bssid:b.BSSID});c&&bj(this.f,c);rj.I.da.call(this,a)};k.wa=function(){var a=this.f.f;return U(this.g,Nh(a.i,Ih("192.168.255.249"),a.j,{ssid:this.h.ssid,bssid:this.h.bssid},a.l()))};
k.qa=function(){X(this).sendMessage(new Fa(3,Rf[this.h.type]||3,this.h.name))};k.Fa=function(){X(this).sendMessage(new Fa(4,Rf[this.h.type]||3,this.h.name))};k.V=function(a){X(this).sendMessage(new Ia(a,this.h.name,this.h.ssid))};k.xa=function(a){a=a.getState();this.f.j(a);a.eurekaInfoState.displaySupported?Z(this.f,new Q(3)):Z(this.f,new Q(4))};var sj=function(a,b,c,d){var e=I(),f=new ni(c,b,new gi(d)),g=function(b){return b.M===a},h=function(a){(a=tb(a.devices,g))&&e.g(a.ipAddress)};f.g.listen("deviceListUpdated",h);var n=null;f.start().then(function(){n=setInterval(function(){ri(f)},5E3)});var q=setTimeout(e.h.bind(e),18E4);return J(e.f,function(){clearTimeout(q);clearInterval(n);f.g.C("deviceListUpdated",h);f.stop()})};var tj=function(a){W.call(this,a,this.o.bind(this),null);this.h=null;this.m=0;this.i=null;this.l=0};u(tj,W);tj.prototype.o=function(){var a=this;return U(this.g,aj(this.f)).then(function(b){a.h=b;X(a).sendMessage(new v("OtaUpdate.Pending"));uj(a,0)})};
var uj=function(a,b){K(U(a.g,R(b)).then(function(){++a.m;return U(a.g,Jh(a.h,{options:["ota_status","setup.setup_state"]}))}).then(function(b){var d=Ph(a.h),e=0;7<=a.h.f&&(e=b.ota_status.download_progress);if(a.i!==d.setupState||e!==a.l)a.i=d.setupState,a.l=e,60===a.i&&a.j();uj(a,3E3)}),function(b){dh(b);b=a.h.getState().eurekaInfoState.ssdpUdn;var d=a.f.f;U(a.g,sj(b,d.i,d.o,d.f)).then(a.j.bind(a),a.s.bind(a))})};
tj.prototype.j=function(){var a=X(this);U(this.g,Ii(a,"OtaUpdate.Proceed")).then(function(){Zi(this.f,this.h.h.read().deviceIpAddress)}.bind(this));a.sendMessage(new v("OtaUpdate.Done"))};tj.prototype.s=function(){};var vj=function(a){W.call(this,a,this.K.bind(this),this.J.bind(this));this.h=1;this.i=this.l=null;this.j=new A;this.m=new A;this.o=null;this.B=this.N.bind(this)};u(vj,W);
vj.prototype.K=function(){var a=this;wj(a,1);X(a).addListener("SetupStart.Proceed",a.B);var b=[];b.push(U(a.g,this.f.f.h.f()).then(function(b){a.o=b}));var c=Y(a.f);c.device&&!c.pinned&&(c.device=void 0,bj(a.f,c));var d=a.f.f;a.i=new wi(d.j,d.o,d.i,d.window.localStorage,5E3);d=a.i.f.f;d.listen("added",a.u,!0,a);d.listen("connected",a.v,!0,a);a.i.g.g.listen("deviceListUpdated",a.s,!0,a);b.push(U(a.g,a.i.start()));hh(a.g).then(function(){c.pinned&&c.device?(a.l=c.device,wj(a,4),xj(a)):a.m.H()?$b(a.j,
function(b){if("NotConnected"===b.ConnectionState)return!0;zj(a,b);return!1})&&(wj(a,2),xj(a),U(a.g,R(5E3)).then(a.L.bind(a))):yj(a,a.m.U(!1).next())});return td(b)};vj.prototype.J=function(){this.h=1;this.l=null;this.j=new A;this.m=new A;this.o=null;X(this).removeListener("SetupStart.Proceed",this.B);if(!this.i)return G();var a=this.i;this.i=null;var b=a.f.f;b.C("added",this.u,!0,this);b.C("connected",this.v,!0,this);a.g.g.C("deviceListUpdated",this.s,!0,this);return a.stop()};
var wj=function(a,b){b!==a.h&&(a.h=b)},xj=function(a){var b=X(a);switch(a.h){case 1:case 2:b.sendMessage(new Da(!1));break;case 3:b.sendMessage(new Da(!0));break;case 4:Aj(a,1);break;case 5:Aj(a,2);break;case 6:Aj(a,3);break;case 7:Aj(a,4)}},Aj=function(a,b){var c=new Fa(b,Rf[a.l.type]||3,a.l.name);c.otherDevicesExist=1<a.j.w()+a.m.w();c.analyticsOptIn=3!==a.o;X(a).sendMessage(c)};
vj.prototype.L=function(){if(2===this.h)if(0===this.j.w())wj(this,3),xj(this);else{var a=Zb(this.j,function(a,c){return"NotConnected"!==c.ConnectionState?c:(c.WiFi&&c.WiFi.SignalStrength||-Infinity)<(a&&a.WiFi&&a.WiFi.SignalStrength||-Infinity)?a:c});zj(this,a)}};var zj=function(a,b){var c=b&&b.WiFi,d=c.SSID,e=Wf(d);a.l=new Cf({name:e.name,type:e.type,ssid:d,bssid:c.BSSID});wj(a,4);xj(a)},yj=function(a,b){a.l=new Cf({name:b.name,type:b.deviceType,ipAddress:b.ipAddress});wj(a,4);xj(a)};
vj.prototype.u=function(a){a=a.f;var b=!cc(this.j,a.GUID);this.j.set(a.GUID,a);4===this.h?b&&xj(this):3===this.h&&zj(this,a)};vj.prototype.v=function(a){2!==this.h&&3!==this.h||zj(this,a.f)};vj.prototype.s=function(a){var b=this,c=null;a.devices.filter(function(a){return a.ethernetConnected&&!a.tosAccepted}).forEach(function(a){cc(b.m,a.ipAddress)||(b.m.set(a.ipAddress,a),c=c||a)});c&&(2===b.h||3===b.h?yj(b,c):4===b.h&&xj(b))};
vj.prototype.N=function(){var a=this;4!==a.h&&7!==a.h||Bj(a).then(function(){var b=Y(a.f);b.device=a.l;bj(a.f,b);if(b.device.bssid)Yi(a.f,16,-1,0),Z(a.f,new Q(2));else{wj(a,6);xj(a);var c=a.f.f;K(U(a.g,Lh(c.i,Ih(b.device.ipAddress),c.l())).then(function(b){a.f.j(b.getState());Yi(a.f,106,-1,0);Z(a.f,new Q(5))}),function(){wj(a,7);xj(a)})}})};
var Bj=function(a){var b=a.f.f.f;if(null!==b.getItem("setupTosAccepted"))return G();var c=a.f.f.h,d=U(a.g,Ii(X(a),"SetupStart.TosAccepted")).then(function(a){c.i(a.analyticsOptIn);b.setItem("setupTosAccepted","")}.bind(a));wj(a,5);xj(a);return d};var Dj=function(a){this.j=a;this.h=new O;this.f=new A;this.i=!1;this.g=new T(function(){Cj(this);return G()}.bind(this),function(){this.f.clear();this.i=!1;return G()}.bind(this))},Ej=function(a){M.call(this,"networksUpdated");this.networks=a};u(Ej,M);var Fj=function(){M.call(this,"scanError")};u(Fj,M);var Gj=function(){this.networks=new A;this.f=0;this.T=I()};Dj.prototype.start=function(){return this.g.start()};Dj.prototype.stop=function(){return this.g.stop()};
var Cj=function(a){K(U(a.g,Vh(a.j)).then(function(){U(a.g,R(3E3))}).then(function(){var b=new Gj;a.l(b);return b.T.f}).then(a.o.bind(a)).then(function(){return U(a.g,R(1E3))}).then(function(){Cj(a)}),function(b){dh(b);P(a.h,new Fj);a.stop()})};Dj.prototype.l=function(a){K(U(this.g,Uh(this.j)).then(this.m.bind(this,a)).then(function(){5===a.f?a.T.g(a.networks):U(this.g,R(2E3)).then(this.l.bind(this,a))}.bind(this)),function(b){a.T.h(b)})};
Dj.prototype.m=function(a,b){var c=!1,d=!1;b.filter(function(a){return 1!==a.wpa_auth?!0:!Uf(a.bssid)}).forEach(function(b){cc(a.networks,b.bssid)||(a.networks.set(b.bssid,b),c=!0);cc(this.f,b.bssid)||(this.f.set(b.bssid,b),d=!0)}.bind(this));a.f=c?0:a.f+1;if(d||!this.i)P(this.h,new Ej(this.f.A())),this.i=!0};Dj.prototype.o=function(a){var b=new B(this.f.D()),c=new B(a.D());this.f=a;hc(b,c).w()&&P(this.h,new Ej(this.f.A()))};var Hj=function(a){W.call(this,a,this.u.bind(this),this.s.bind(this));this.h=this.i=null;this.j=!1;this.m=new A;this.l=this.v.bind(this)};u(Hj,W);
Hj.prototype.u=function(){return U(this.g,aj(this.f)).then(function(a){this.i=a;this.h=new Dj(a);this.h.h.listen("networksUpdated",this.o,!0,this);var b=X(this);b.addListener("WiFiConfig.Connect",this.l);b.addListener("WiFiConfig.Retry",this.l);a=Y(this.f);var c=a.connectWiFi;c?(c=ag(c),delete a.connectWiFi,bj(this.f,a),b.sendMessage(c)):(Ij(this,this.i,a),U(this.g,R(7E3)).then(function(){this.j||(b.sendMessage(new Wa(1,[],null,null)),this.j=!0)}.bind(this)));return this.h.start()}.bind(this))};
Hj.prototype.s=function(){var a=X(this);a.removeListener("WiFiConfig.Connect",this.l);a.removeListener("WiFiConfig.Retry",this.l);this.i=null;this.j=!1;if(!this.h)return G();this.h.h.C("networksUpdated",this.o,!0,this);a=this.h;this.h=null;return a.stop()};
Hj.prototype.o=function(a){var b=[];a.networks.forEach(function(a){b.push(new Va(a.ssid,a.bssid,Zf(a.wpa_auth)));this.m.set(a.bssid,a)}.bind(this));if(this.j)X(this).sendMessage(new Xa(b));else{var c=Y(this.f);a=null;c.originalWiFiNetwork&&(a=b.find(function(a){return a.bssid===c.originalWiFiNetwork.bssid})||null);X(this).sendMessage(new Wa(1,b,a,null));this.j=!0}};
Hj.prototype.v=function(a){var b=null,c=null,d=null;"WiFiConfig.Connect"===a.type?(c=a,b=c.network):(d=a,b=d.network);var e=new $e(b.ssid,$f(b.security));b.bssid&&(a=this.m.get(b.bssid),a.wpa_auth&&(e.wpa_auth=a.wpa_auth),a.wpa_cipher&&(e.wpa_cipher=a.wpa_cipher),a.wpa_id&&(e.wpa_id=a.wpa_id));a=r(function(a){a&&(e.enc_passwd=a);a=Y(this.f);a.connectWiFi=new Ef(e);b.bssid&&(a.connectWiFi.bssid=b.bssid);bj(this.f,a);a=this.i;a=a.g.request({url:Qh(a,"/setup/connect_wifi"),method:"POST",headers:{"Content-Type":"application/json"},
content:JSON.stringify(e),G:0});K(a,ba);Z(this.f,new Q(7))},this);d?a(d.encryptedPassword):(c=c.password)?U(this.g,Jj(this,c)).then(a):a(null)};var Jj=function(a,b){var c=a.i.getState().verificationState.verificationProperties;return a.f.f.j.verifyAndEncryptData(c,b)},Ij=function(a,b,c){var d=b.f;if(!(4>d)){c=c.country;var e=null;7>d?(d=new yf,d.location=new gf,d.location.country_code=c,e=d):(d=new zf,d.settings=new of,d.settings.country_code=c,e=d);K(U(a.g,Wh(b,e)),function(){})}};var Kj=function(a){var b=Y(a).connectWiFi;nj.call(this,a,b.f.ssid,b.bssid||null);this.h=null};u(Kj,nj);Kj.prototype.u=function(){this.h=null;return Kj.I.u.call(this)};var Lj=function(a){return a.h?G(a.h):U(a.g,aj(a.f)).then(function(b){a.h=Ph(b).connectedIpAddress;return a.h})};Kj.prototype.wa=function(){var a=this;return Lj(a).then(function(b){return U(a.g,Lh(a.f.f.i,Ih(b)))})};var Mj=function(a,b){var c=Y(a.f),d=c.connectWiFi,e=b?1:void 0;d.g!==e&&(d.g=e,bj(a.f,c));X(a).sendMessage(ag(d))};
Kj.prototype.qa=function(){Mj(this,!1)};Kj.prototype.Fa=function(){Mj(this,!0)};Kj.prototype.V=function(a){X(this).sendMessage(new Ka(a,Y(this.f).connectWiFi.f.ssid))};Kj.prototype.xa=function(a){this.f.j(a.getState());Z(this.f,new Q(9))};var Ui=function(a,b){switch(b){case 1:return new vj(a);case 2:return new rj(a);case 3:return new fj(a);case 4:return new ej(a);case 5:return new lj(a);case 6:return new Hj(a);case 7:return new gj(a);case 8:return new Kj(a);case 9:return new mj(a);case 10:return new tj(a);default:return new W(a,null,null)}};var Nj=null;t("castApp.app.setupManager",Nj);var Oj=function(a){if(!a||"#"==a)return{};a.startsWith("#")&&(a=a.slice(1));var b=a.split("/");if(!(0<=qb(["devices","offers","setup"],b[0])))return{};a={ia:b[0]};b[1]&&"devices"==b[0]&&(b=decodeURIComponent(b[1]),Uc(b)&&(a.ipAddress=b));return a};window.addEventListener("hashchange",function(a){var b=Ud(a.oldURL).j;a=Ud(a.newURL).j;Oj(b).ia!==Oj(a).ia&&location.reload()});
var jh=function(){window.location.hash="devices"},ih=function(){window.location.hash="setup"},kh=function(a){window.location.hash="devices/"+encodeURIComponent(a)},Pj=function(a){var b=chrome.metricsPrivate?new Wg(window.localStorage):new Vg,c=chrome.networkingPrivate?Xg.X():null,d=chrome.dial?ph.X():null,b=new Vi(window,c,d,new Rg,b);(new cj(b,a)).start().then(function(a){Nj=a})},Qj=function(a){a=new Pi(window,a);var b=chrome.networkingPrivate?Xg.X():null,c=chrome.dial?ph.X():null,d=new lh(a,b,c),
e=null,f=null,g=function(a){if(!f||f.m!==a){var b=e&&e.stop()||f&&f.stop()||G();e=null;var c=f=new Ai(d,a);b.then(function(){f===c&&K(f.start(),jh)})}},h=function(){if(!e){var a=f&&f.stop()||G(),b=e=new xi(d);f=null;a.then(function(){b===e&&e.start()})}},n=function(){var a=Oj(location.hash);a.ipAddress?g(a.ipAddress):h()};a.start().then(function(){n();window.addEventListener("hashchange",n)})},Rj=function(a){var b=new Pi(window,a);a=chrome.dial?ph.X():null;var c=new Si(b,a);b.start().then(function(){var a=
V(b),e=new A;a.addListener("Offers.Scan",function(a){var b=a.scanId;cc(e,b)||(a=new Ti(c,b),e.set(b,a),ch(a.h.h,"stopped").then(function(){e.remove(b)}),a.start())});a.addListener("Offers.Redeem",function(a){window.location=a.url});a.sendMessage(new v("Offers.Show"))})};
window.addEventListener("load",function(){var a=new Ni(window,"https://castappui.google.com");Pe(a.h,function(){window.location="https://chromecast.com"});Di||(Di=!0);Kf();switch(Oj(location.hash).ia){case "devices":Qj(a);break;case "offers":Rj(a);break;case "setup":Pj(a);break;default:jh()}});
